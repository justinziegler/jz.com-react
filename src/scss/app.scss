@import "compass";
@import "partials/variables";
@import "partials/mixins";
@import "partials/layout";

html {
  font-family: sans-serif;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}
body {
  margin: 0;
}

footer,
header,
section {
  display: block;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
h1 {
  margin: 0.67em 0;
  font-size: 2em;
}
img {
  border: 0;
}
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
:after,
:before {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  font-size: 10px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
body {
  // font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 14px;
  line-height: 1.42857143;
  color: #333;
  background-color: #fff;
}
a {
  // color: #337ab7;
  text-decoration: none;
}
a:focus,
a:hover {
  color: #23527c;
  text-decoration: underline;
}
a:focus {
  outline: thin dotted;
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
img {
  vertical-align: middle;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: inherit;
  font-weight: 500;
  line-height: 1.1;
  color: inherit;
}
h1,
h2,
h3 {
  margin-top: 20px;
  margin-bottom: 10px;
}
h4,
h5,
h6 {
  margin-top: 10px;
  margin-bottom: 10px;
}
h1 {
  font-size: 36px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 14px;
}
h6 {
  font-size: 12px;
}
p {
  margin: 0 0 10px;
}
ul {
  margin-top: 0;
  margin-bottom: 10px;
}
.container {
  padding-right: 15px;
  padding-left: 15px;
  margin-right: auto;
  margin-left: auto;
}
@media (min-width: 768px) {
  .container {
      width: 750px;
  }
}
@media (min-width: 992px) {
  .container {
      width: 970px;
  }
}
@media (min-width: 1280px) {
  .container {
      width: 1250px;
  }
}
.row {
  margin-right: -15px;
  margin-left: -15px;
}
.col-xs-12 {
  position: relative;
  min-height: 1px;
  padding-right: 15px;
  padding-left: 15px;
  width: 100%;
}

.container:after,
.container:before,
.row:after,
.row:before {
  display: table;
  content: " ";
}
.container:after,
.row:after {
  clear: both;
}
@-ms-viewport {
  width: device-width;
}
@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-md {
      display: none !important;
  }
}
@media (min-width: 1200px) {
  .hidden-lg {
      display: none !important;
  }
}

// Configuration
@import "bootstrap5/functions";
@import "bootstrap5/variables";
@import "bootstrap5/variables-dark";
@import "bootstrap5/maps";
@import "bootstrap5/mixins";

// Layout & components
@import "bootstrap5/root";
@import "bootstrap5/close";
@import "bootstrap5/modal";
@import "partials/chevron";
@import "partials/dot-gradient";
@import url('https://fonts.googleapis.com/css2?family=Boogaloo&family=Cabin+Condensed:wght@400;500&display=swap');
%chevron {
  @include chevron(#000);
}
%dot-gradient {
  @include dot-gradient(#000);
}
%filterCat1, %filterCat2, %filterCat3 {
  filter: invert(78%) sepia(40%) saturate(6441%) hue-rotate(139deg) brightness(89%) contrast(101%);
}
// %filterCat2 {
//   filter: invert(78%) sepia(40%) saturate(6441%) hue-rotate(139deg) brightness(89%) contrast(101%);
// }
// %filterCat3 {
//   filter: invert(92%) sepia(0%) saturate(114%) hue-rotate(167deg) brightness(92%) contrast(85%);
// }
%filterCat4 {
  filter: invert(67%) sepia(0%) saturate(1%) hue-rotate(171deg) brightness(80%) contrast(84%);
}
%filterWhite {
  filter: invert(100%) sepia(9%) saturate(3135%) hue-rotate(250deg) brightness(111%) contrast(100%);
}
%filterEggplant {
  filter: invert(15%) sepia(33%) saturate(3423%) hue-rotate(181deg) brightness(93%) contrast(96%);
}
%filterPurple {
  filter: invert(6%) sepia(78%) saturate(6389%) hue-rotate(297deg) brightness(88%) contrast(90%);
}

$eggplant: #2a0136;
$purple: #5e0f5b;
// $lipstick: #962756;
$lipstick: #932755;
$flame: #C93B30;
$orange: #FF7132;
$pink: #f72351;

$color1: $purple;
$color2: #781b58;
$color3: $lipstick;
$color4: #ae3143;
$color5: $flame;
$color6: #e45631;
$color7: $orange;

// Original Palette
$cat1: $lipstick;
$cat2: $color4;
$cat3: $flame;
$cat4: $color6;
// // Steeltones
// $cat2: #65768c;
// $cat1: #404b59;
// $cat3: #b8c6d9;
// $cat4: #d8e6f2;
// $eggplant: #404040;
// // Blue / Green
// $cat2: #183b59;
// $cat1: #2a5159;
// $cat3: #327355;
// $cat4: #5c8c46;
// $eggplant: #0b2559;
// // Machine colors
// $cat1: #486966;
// $cat2: #889c9b;
// $cat3: #b2bebf;
// $cat4: #bd2a2e;
// $eggplant: #3b3936;
// // Dark blues and greens
// $cat2: #1e5959;
// $cat1: #164773;
// $cat3: #3b8c6e;
// $cat4: #89d99d;
// $eggplant: #0b2b40;
// More Blue and Green
// $cat1: #012e40;
// $cat2: #025959;
// $cat3: #02735e;
// $cat4: #038c65;
// $eggplant: #011526;
// Blues & greys
// $cat1: #2f3d40;
// $cat2: #455559;
// $cat3: #28403D;
// $cat4: #3d5a73;
// $eggplant: #182625;
// Teals
// $cat1: #015958;
// $cat2: #008F8C;
// $cat3: #0CABA8;
// $cat4: #0FC2C0;
// $eggplant: #023535;
// More teals
// $cat1: #146551;
// $cat2: #007566;
// $cat3: #589A8D;
// $cat4: #8FC1B5;
// $eggplant: shade(#265C4B, 20%);
// Green to Purps
// $cat1: #45214A;
// $cat2: #21445B;
// $cat3: #1A6566;
// $cat4: #5D8A66;
// $eggplant: #323050;
// Blue Mist Paprika
// $cat1: #6F618C;
// $cat2: #4B4559;
// $cat3: #917ED9;
// $cat4: #897ABF;
// $eggplant: #732634;
// Bluez
// $cat1: #204473;
// $cat2: #607EA6;
// $cat3: #ACCAF2;
// $cat4: #D0ECF2;
// $cat4: #7E8C69;
// $eggplant: shade(#204473, 50%);
// Bluez 2 - might be okay with some tweaking
// $cat1: #345B73;
// $cat2: #5386A6;
// $cat3: #93AEBF;
// $cat4: #D5E5F2;
// $eggplant: #012340;
// Teal
$cat1: #00bbc9;
$cat2: #00bbc9;
$cat3: #00bbc9;
$cat4: #878787;
$eggplant: #053a5c;
$purple: $cat1;

$primary-bg: $eggplant;

:root {
  --primary-bg-color: #{$eggplant};
  --secondary-bg-color: #{$purple};
  --cat1: #{$lipstick};
  --cat2: #{$orange};
  --cat2Tint: tint(#{$orange}, 20%);
  --cat3: #{$flame};
  --cat4: #{$purple};
}

h1 {
  color: $eggplant;
  font-size: 120px;
  font-family: 'Boogaloo', sans;
}
h2 {
  font-size: 90px;
  line-height: 1;
  position: relative;
  color: #fff;
  padding-left: 4px;
  margin: 25px 0 30px 0;
  width: 100%;
  font-family: 'Boogaloo', sans;
  text-align: left;
  z-index: 1;
  &::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 15px;
    z-index: -1;
    background-color: $cat1;
  }
  &::after {
    content: '';
    position: absolute;
    left: 8px;
    right: 0;
    top: 13px;
    bottom: 5px;
    z-index: -1;
    border-bottom: 8px solid tint($cat1, 27%);
  }
  span {
    position: absolute;
    left: 16px;
    right: 0;
    bottom: -1px;
    height: 4px;
    background: tint($cat1, 54%);
    z-index: -1;
    // border-radius: 0 0 0 4px;
    &::before {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 8px;
      right: 0;
      height: 2px;
      background: tint($cat1, 81%);
      border-radius: 0 0 0 2px;
    }
  }
}
a {
  &:hover {
    text-decoration: none;
  }
}

body {
  font-family: 'Cabin Condensed', sans-serif;
}

main {
  width: 100%;
}
$x: 240px;
$y: 158px; // width of purple column
$z: $x + $y;
$bg: transparent;
.background {
  @include mq(xmd) {
    display: none;
  }
  background-image: linear-gradient(to right, 
    $bg 0%,
    $bg calc(50% + $x),
    $eggplant calc(50% + $x), 
    $eggplant calc(50% + $x + 2px), 

    tint($eggplant, 15%) calc(50% + $x + 2px), // first stripe from left
    tint($eggplant, 15%) calc(50% + $x + 4px), 

    $eggplant calc(50% + $x + 4px), // purple
    $eggplant calc(50% + $x + 6px), 

    tint($eggplant, 15%) calc(50% + $x + 6px), // second stripe

    $eggplant calc(50% + $x + 7px), // back to purple


    $eggplant calc(50% + ($z - 7px)), // right side

    tint($eggplant, 15%) calc(50% + ($z - 7px)), // left stripe on right

    $eggplant calc(50% + ($z - 6px)), // purple
    $eggplant calc(50% + ($z - 5px)), 

    tint($eggplant, 15%) calc(50% + ($z - 5px)), 
    tint($eggplant, 15%) calc(50% + ($z - 3px)), 
    $eggplant calc(50% + ($z - 3px)),

    $eggplant calc(50% + $z),
    $bg calc(50% + $z),
    $bg 100%);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  @include mq(lg) {
    $x: 300px; 
    $y: 480px;
    background-image: linear-gradient(to right, 
      #fff 0%, 
      #fff calc(50% + $x), 
      $eggplant calc(50% + $x), 
      $eggplant calc(50% + $x + 2px), 
      tint($eggplant, 15%) calc(50% + $x + 2px), 
      tint($eggplant, 15%) calc(50% + $x + 4px), 
      $eggplant calc(50% + $x + 4px), 
      $eggplant calc(50% + $x + 6px), 
      tint($eggplant, 15%) calc(50% + $x + 6px), 
      $eggplant calc(50% + $x + 7px), 
      $eggplant calc(50% + $y),
      tint($eggplant, 15%) calc(50% + $y), 
      $eggplant calc(50% + $y + 1px), 
      $eggplant calc(50% + $y + 2px), 
      tint($eggplant, 15%) calc(50% + $y + 2px), 
      tint($eggplant, 15%) calc(50% + $y + 4px), 
      $eggplant calc(50% + $y + 4px), 
      $eggplant calc(50% + $y + 7px), 
      #fff calc(50% + $y + 7px),
      #fff 100%);
  }
}
.modal-open {
  .background {
    left: -17px;
  }
  nav {
    &.nav-footer {
      left: -17px;
    }
  }
}
.header-background {
  $bg: transparent;
  position: relative;
  width: 100%;
  height: 30vh;
  bottom: calc(50% + 15vw);
  $bgh: tint($cat4, 30%);
  $bgh: $cat2;
  $gap: 2px;
  $base: 40px;
  $int: 4;
  z-index: 0;
  // background-color: $eggplant;
  $xx: 15px;
  $xxx: 320px;
  // background-image: linear-gradient(to bottom, 
  //   $color1 0%,
  //   $color1 calc(100% - 214px),
  //   $eggplant calc(100% - 214px),
  //   $eggplant calc(100% - $xx),
  //   $white calc(100% - $xx),
  //   $white 100%);
  // @include mq(xs) {
  //   background-image: linear-gradient(to bottom, 
  //   $color1 0%,
  //   $color1 calc(100% - 250px),
  //   $eggplant calc(100% - 250px),
  //   $eggplant calc(100% - $xx),
  //   $white calc(100% - $xx),
  //   $white 100%);
  // }
  @include mq(md) {
    height: auto;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: calc(50vh + 70px);
    // background-image: linear-gradient(to bottom, 
    // $eggplant 0%,
    // $eggplant calc(100% - $xxx),
    // $white calc(100% - $xxx),
    // $white calc(100% - $xx),
    // $white calc(100% - $xx),
    // $white 100%);
    background: transparent;
  }
  &::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 15px;
    z-index: -1;
    @extend %dot-gradient;
    background-size:  auto;
    background-repeat: repeat-x;
    background-position: 50% 100%;
    @extend %filterEggplant;
  }
  // &::after {
  //   content: '';
  //   position: absolute;
  //   left: 8px;
  //   right: 8px;
  //   top: 13px;
  //   bottom: 5px;
  //   z-index: -1;
  //   border-bottom: 8px solid tint($purple, 27%);
  // }
  span {
    &.arrow {
      @include mq(xmd) {
        display: none;
      }
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: -70px;
      z-index: 0;  
      background-image: linear-gradient(to right, 
      $bg 0%,
      $bg calc(50% + $x),
      $cat1 calc(50% + $x), 
      $cat1 calc(50% + $x + 2px), 

      tint($cat1, 15%) calc(50% + $x + 2px), // first stripe from left
      tint($cat1, 15%) calc(50% + $x + 4px), 

      $cat1 calc(50% + $x + 4px), // purple
      $cat1 calc(50% + $x + 6px), 

      tint($cat1, 15%) calc(50% + $x + 6px), // second stripe

      $cat1 calc(50% + $x + 7px), // back to purple

      // $cat1 calc(50% + ($x + (($y / 2) - 20px))),
      // tint($cat1, 10%) calc(50% + ($x + (($y / 2) - 20px))),
      // tint($cat1, 10%) calc(50% + ($x + (($y / 2) - 18px))),
      // $cat1 calc(50% + ($x + (($y / 2) - 18px))),

      $cat1 calc(50% + ($z - 7px)), // right side

      tint($cat1, 15%) calc(50% + ($z - 7px)), // left stripe on right
      // tint($cat1, 65%) calc(50% + ($z - 6px)), 

      $cat1 calc(50% + ($z - 6px)), // purple
      $cat1 calc(50% + ($z - 5px)), 

      tint($cat1, 15%) calc(50% + ($z - 5px)), 
      tint($cat1, 15%) calc(50% + ($z - 3px)), 
      $cat1 calc(50% + ($z - 3px)),

      $cat1 calc(50% + $z),
      $bg calc(50% + $z),
      $bg 100%);
      @include mq(lg) { 
        bottom: -90px;        
        background-image: linear-gradient(to right, 
          transparent 0%, 
          transparent calc(50% + 300px), 
          #962756 calc(50% + 300px), 
          #962756 calc(50% + 300px + 2px), 
          #a6476f calc(50% + 300px + 2px), 
          #a6476f calc(50% + 300px + 4px), 
          #962756 calc(50% + 300px + 4px), 
          #962756 calc(50% + 300px + 6px), 
          #a6476f calc(50% + 300px + 6px), 
          #962756 calc(50% + 300px + 7px), 
          #962756 calc(50% + 480px), 
          #a6476f calc(50% + 480px), 
          #962756 calc(50% + 481px), 
          #962756 calc(50% + 482px), 
          #a6476f calc(50% + 482px), 
          #a6476f calc(50% + 484px), 
          #962756 calc(50% + 484px), 
          #962756 calc(50% + 487px), 
          transparent calc(50% + 487px), 
          transparent 100%);

        $x: 300px;
        $z: 487px;
        background-image: linear-gradient(to right, 
          $bg 0%,
          $bg calc(50% + $x),
          $cat1 calc(50% + $x), 
          $cat1 calc(50% + ($x + 2px)), 
    
          tint($cat1, 15%) calc(50% + ($x + 2px)), // first stripe from left
          tint($cat1, 15%) calc(50% + ($x + 4px)), 
    
          $cat1 calc(50% + ($x + 4px)), // purple
          $cat1 calc(50% + ($x + 6px)), 
    
          tint($cat1, 15%) calc(50% + ($x + 6px)), // second stripe
    
          $cat1 calc(50% + ($x + 7px)), // back to purple    
          $cat1 calc(50% + ($z - 7px)), // right side
    
          tint($cat1, 15%) calc(50% + ($z - 7px)), // left stripe on right
    
          $cat1 calc(50% + ($z - 6px)), // purple
          $cat1 calc(50% + ($z - 5px)), 
    
          tint($cat1, 15%) calc(50% + ($z - 5px)), 
          tint($cat1, 15%) calc(50% + ($z - 3px)), 
          $cat1 calc(50% + ($z - 3px)),
    
          $cat1 calc(50% + $z),
          $bg calc(50% + $z),
          $bg 100%);
      }
    }
    // &.fade-out {
    //   position: absolute;
    //   left: 16px;
    //   right: 16px;
    //   bottom: -1px;
    //   height: 4px;
    //   background: tint($purple, 54%);
    //   z-index: -1;
    //   &::before {
    //     content: '';
    //     position: absolute;
    //     bottom: -4px;
    //     left: 8px;
    //     right: 8px;
    //     height: 2px;
    //     background: tint($purple, 81%);
    //     border-radius: 0 0 0 2px;
    //   }
    // }
  }
}

.row {
  display: flex;
  flex-direction: row;
}
[class^="col-"] {
  float: none;
  display: flex;
  flex-direction: column;
}

section {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
  @include mq(md) {
    height: 100vh;
  }
}
header {
  color: $primary-bg;
}
nav {
  &.nav-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: calc(50% - 300px);
    right: 0;
    background: $eggplant;
    z-index: 2;
    padding: 0 15px;
    ul {
      margin: 0;
      text-align: center;
      padding: 0 0 vwp(15px) 0;
      @include mq(xs) {
        padding: 5px 0 vwl(20px) 0;
      }
      @include mq(sm) {
        padding: 0;
      }
      @include mq(md) {
        text-align: left;
      }
    }
    li {
      list-style-type: none;
      color: $white;
      display: inline-block;
      justify-content: center;
      margin-right: vwp(15px);
      @include mq(xs) {
        margin-right: vwl(15px);
      }
      @include mq(sm) {
        margin-right: 15px;
      }
      &:last-of-type {
        margin-right: 0;
      }
      a, button {
        color: #fff;
        border: none;
        border-bottom: solid 2px $cat1;
        padding: vwp(6px) vwp(6px) vwp(1px) vwp(6px);
        flex: 1;
        position: relative;
        display: flex;
        flex-direction: row;
        background: none;
        font-family: "Cabin Condensed", sans-serif;
        font-size: vwp(14px);
        line-height: 1.4;
        cursor: pointer;
        @include mq(xs) {
          padding: vwl(6px) vwl(6px) vwl(1px) vwl(6px);
          font-size: vwl(14px);
        }
        @include mq(sm) {
          font-size: 16px;
          padding: 11px 6px 1px 6px;
        }
        &::before {
          content: '';
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          bottom: 0;
          z-index: -1;
          transition: .2s;
        }
        &:hover, &:focus {
          text-decoration: none;
          outline: none;
          &::before {
            top: 0;
            @include mq(sm) {
              top: -10px;
            }
          }
        }
      }

      a, button {
        border-bottom-color: $cat1;
        &::before {
          background-color: $cat1;
        }
      }
      a {
        &:hover {
          background-color: $cat1;
        }
      }
      &.title {
        font-family: 'Boogaloo', sans;
        font-size: vwp(18px);
        padding: vwp(5px) 0 0 0;
        @include mq(xxs) {
          width: 100%;
        }
        @include mq(xs) {
          font-size: vwl(18px);
          padding: vwl(1px) 0 0 0;
        }
        @include mq(sm) {
          font-size: 18px;
          padding: 8px 15px 15px 15px;
        }
        .bullet {
          color: $cat1;
          padding: 0 5px;
        }
      }
      &.recent {
        @include mq(xmd) {
          display: none;
        }
        // button {
        //   border-bottom-color: $color2;
        //   &::before {
        //     background-color: $color2;
        //   }
        // }
      }
      // &.gh {
        // a {
        //   border-bottom-color: $color3;
        //   &:hover {
        //     background-color: $color3;
        //   }
        //   &::before {
        //     background-color: $color3;
        //   }
        // }
      // }
      // &.resume {
      //   a {
      //     border-bottom-color: $color4;
      //     &:hover {
      //       background-color: $color4;
      //     }
      //     &::before {
      //       background-color: $color4;
      //     }
      //   }
      // }
      // &.li {
      //   a {
      //     border-bottom-color: $color5;
      //     &:hover {
      //       background: $color5;
      //     }
      //     &::before {
      //       background-color: $color5;
      //     }
      //   }
      // }
      &.email {
        a {
        //   border-bottom-color: $color6;
        //   &::before {
        //     background-color: $color6;
        //   }
          span {
            &.email {
              width: 0;
              transition: .2s;
              overflow: hidden;
              @include mq(xmd) {
                display: none;
              }
            }
          }
          &:hover, &:focus {
            background: $cat1;
            .email {
              width: 150px;
            }
          }
        }
      }
    }
  }
  $height: 450px;

  &.scroll-nav {
    position: relative;
    width: 100%;
    flex: 1;
    text-align: center;
    transition: .3s;
    display: flex;
    flex-direction: column;
    display: flex;
    justify-content: center;
    
    button {
      color: $white;
      position: relative;
      font-family: 'Boogaloo', sans;
      line-height: 1;
      font-size: 28px;
      padding: 106px 0 114px 0;
      text-shadow: -2px 2px 0 shade($cat1, 45%);
      background: transparent;
      border: none;
      $z: 130px;
      cursor: pointer;
      @include mq(lg) {
        font-size: 32px;
        padding: 165px 0 135px 0;
      }
      &:hover, &:focus {
        text-decoration: none;
      }
      &::before, &::after {
        content: '';
        @extend %chevron;
        @extend %svg;
        position: absolute;
        $colwidth:  158px;
        width: 123px;
        height: 191px;
        bottom: 38px;
        left: calc($colwidth / 2);
        transform: rotate(90deg);
        transform-origin: left;
        @extend %filterCat1;
        z-index: 0;
        @include mq(lg) {
          $colwidth:  267px;
          width: 145px;
          $width: 231px;
          height: $width;
          bottom: 45px;
          left: calc($colwidth / 2);
        }
      }
      &::before {
        // bottom: 200px;
        width: 141px;
        height: 224px;
        bottom: 89px;
        @include mq(lg) {
          width: 167px;
          height: 265px;
          bottom: 105px;
        }
      }
      &::after {
        bottom: 0;
      }
      span {
        position: relative;
        z-index: 1;
      }
    }
  }
}
.swiper {
  width: 100%;
  &-slide {
    user-select: none;
  }
  &.gallery {
    background-color: $white;
    padding: 10px 3px 10px 10px;
    border-bottom: none;
    position: relative;
    top: 0;
    transition: .2s;
    &[data-current='recently'] {
      top: 60px;
    }
    p {
      margin: 15px 0 0 0;
    }
    .swiper-slide {  
      overflow-y: scroll !important; 
      -webkit-overflow-scrolling:touch !important;
      padding-right: 2px;
      text-align: center;
      justify-content: center;
      &::-webkit-scrollbar {
        width: 6px;
      }
      &::-webkit-scrollbar-thumb {
        background-color: $cat1;
        border: none;
        border-radius: 4px;
      }
      &.divider {
        text-align: right;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        strong {
          color: $cat1;
        }
      }
      &[data-group-name='more'] {
        justify-content: center;
        h2 {
          margin-bottom: 60px;
          &::before {
            background-color: $cat4;
          }
          &::after {
            border-bottom: 8px solid tint($cat4, 27%);
          }
          span {
            background: tint($cat4, 54%);
            &::before {
              background: tint($cat4, 81%);
            }
          }
        }
        .btn-continue {
          margin-top: 70px;
        }
      }
      &.cat2 {
        &::-webkit-scrollbar-thumb {
          background-color: $cat2;
        }
      }
      &.cat3 {
        &::-webkit-scrollbar-thumb {
          background-color: $cat3;
        }
      }
      &.cat4 {
        display: flex;
        &::-webkit-scrollbar-thumb {
          background-color: $cat4;
        }
        img {
          align-self: center;
        }
      }
      > div {
        width: 100%;
      }
      img {
        width: 100%;
        cursor: pointer;
        transition: .2s;
        &[data-mobile='true'] {
          width: 50%;
          margin: 0 auto;
          box-shadow: 0 0 10px 0 rgba(0,0,0,.25);
        }
        &.lazyload {
          opacity: 0;
        }
        &.lazyloaded {
          opacity: 1;
        }
      }
      .two-up {
        display: flex;
        flex-direction: row;
        justify-content: space-around;
  
        img {
          width: 44%;
          align-self: flex-start;
          box-shadow: 0 0 10px 0 rgba(0,0,0,.25);
        }
      }
    }
  }
  &.thumbs {
    height: 78px;
    padding: 2px 20px 18px 2px;
    background-color: #fff;
    margin: 0 10px;
    width: calc(100% - 20px);
    border-top: none;
    flex-shrink: 0;
    position: relative;
    transition: .2s;
    top: 0;
    &[data-current='cat2'] {
      border-color: $cat2;
    }
    &[data-current='cat3'] {
      border-color: $cat3;
    }
    &[data-current='cat4'], &[data-current='recently'] {
      border-color: $cat4;
    }
    @include mq(lg) {
      height: 102px;
    }
    // &::before {
    //   content: '';
    //   position: absolute;
    //   top: 100%;
    //   left: 0;
    //   right: 0;
    //   bottom: 0;
    //   background-color: $white;
    //   z-index: 2;
    //   transition: .2s;
    // }
    &[data-current='recently'] {
      top: 102px;
      &::before {
        top: 0;
      }
    }
    .swiper-slide {
      border: solid 3px $cat1;
      background-size: cover;
      background-position: 50% 50%;
      cursor: pointer;
      position: relative;
      box-sizing: content-box;
      &::before, &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        transition: .2s;
        opacity: 0;
      }
      &:hover, &:focus {
        &::before {
          opacity: .2;
        }
      }
      &-thumb-active, &.companion-slide {
        // border-color: #fff;
        &::after {
          background: $cat1;
          $x: -5px;
          top: $x;
          left: $x;
          right: $x;
          bottom: $x;
          opacity: 1;
          z-index: -1;
        }
      }
      $tint: tint($cat1, 70%);
      &-thumb-active {
        &[data-group-slide='1'] {
          &::after {
            background: linear-gradient(to right, rgba($cat1, 1) 0%, rgba($cat1, 1) 60%, rgba($tint, 1) 90%);
          }
        }
        &[data-group-slide='2'] {
          &::after {
            background: linear-gradient(to right, rgba($tint,1) 0%, rgba($tint,1) 10%, rgba($cat1,1) 40%, rgba($cat1,1) 100%);
          }
        }
      }
      &.cat1 {
        &.companion-slide {
          &::after {
            background-color: $tint;
          }
        }
        &::before {
          background-color: $cat1;
        }
      }
      $tint: tint($cat2, 70%);
      &.cat2 {
        border-color: $cat2;
        &::before {
          background-color: $cat2;
        }
        &.companion-slide {
          &::after {
            background-color: $tint;
          }
        }
        &.swiper-slide-thumb-active {
          &::after {
            background: $cat2;
          }
          &[data-group-slide='1'] {
            &::after {
              background: linear-gradient(to right, rgba($cat2, 1) 0%, rgba($cat2, 1) 60%, rgba($tint, 1) 90%);
            }
          }
          &[data-group-slide='2'] {
            &::after {
              background: linear-gradient(to right, rgba($tint,1) 0%, rgba($tint,1) 10%, rgba($cat2,1) 40%, rgba($cat2,1) 100%);
            }
          }
        }
      }
      $tint: tint($cat3, 70%);
      &.cat3 {
        border-color: $cat3;
        &::before {
          background-color: $cat3;
        }
        &.companion-slide {
          &::after {
            background-color: $tint;
          }
        }
        &.swiper-slide-thumb-active {
          &::after {
            background: $cat3;
          }
          &[data-group-slide='1'] {
            &::after {
              background: linear-gradient(to right, rgba($cat3, 1) 0%, rgba($cat3, 1) 60%, rgba($tint, 1) 90%);
            }
          }
          &[data-group-slide='2'] {
            &::after {
              background: linear-gradient(to right, rgba($tint,1) 0%, rgba($tint,1) 10%, rgba($cat3,1) 40%, rgba($cat3,1) 100%);
            }
          }
        }
      }
      &.cat4, &.more {
        border-color: $cat4;
        &::before {
          background-color: $cat4;
        }
        &.companion-slide {
          &::after {
            background-color: transparent;
          }
        }
        &.swiper-slide-thumb-active {
          &::after {
            background: $cat4;
          }
        }
      }
      &.divider {
        background-color: $cat1;
      }
      &.more {
        background-color: $cat4;
      }
      &.divider, &.more {
        &.swiper-slide-thumb-active {
          border-color: #fff;
        }
      }
      &[data-group-slide='1'], &[data-group-slide='2'] {
        background-size: auto 100%;
      }
      &[data-group-slide='1'] {
        margin-right: -1px!important;
        background-position: 0 100%;
        border-right: none;
        &.prev-slide {
          &::after {
            background-color: tint($cat1, 50%);
          }
        }
      }
      &[data-group-slide='2'] {
        background-position: 100% 50%;
        border-left: none;
      }
      // &.shop {
      //   background-image: url('../img/thumbs/products/shop.jpg');
      // }
      // &.islay {
      //   background-image: url('../img/thumbs/products/islay.jpg');
      // }
      // &.sheets {
      //   background-image: url('../img/thumbs/products/sheets.jpg');
      // }
      // &.cl-01-04 {
      //   background-image: url('../img/thumbs/promos/cl-01-04.jpg');
      // }
      // &.cl-03-01 {
      //   background-image: url('../img/thumbs/promos/cl-03-01.jpg');
      // }
      // &.pr-05-03 {
      //   background-image: url('../img/thumbs/promos/pr-05-03.jpg');
      // }
      // &.tiktok {
      //   background-image: url('../img/thumbs/promos/tiktok.jpg');
      // }
      // &.cart {
      //   background-image: url('../img/thumbs/checkout/cart.jpg');
      // }
      // &.address {
      //   background-image: url('../img/thumbs/checkout/address.jpg');
      // }
      // &.payment {
      //   background-image: url('../img/thumbs/checkout/payment.jpg');
      // }
      // &.bg {
      //   background-image: url('../img/thumbs/bg/bg.jpg');
      // }
      // &.dh {
      //   background-image: url('../img/thumbs/mm/dh.jpg');
      // }
      // &.mm {
      //   background-image: url('../img/thumbs/mm/60654.jpg');
      // }
      // &.nbm {
      //   background-image: url('../img/thumbs/mm/nbm.jpg');
      // }
      // &.ad {
      //   background-image: url('../img/thumbs/mm/ad.jpg');
      // }
      // &.lxh {
      //   background-image: url('../img/thumbs/mm/lxh.jpg');
      // }
      // &.mmdc {
      //   background-image: url('../img/thumbs/mm/mmdc.jpg');
      // }
      // &.wdc {
      //   background-image: url('../img/thumbs/mm/wdc.jpg');
      // }
      img {
        display: none; // TEMP - fix
      }
    }
    &.info {
      width: 200px;
      height: 200px;
    }
  }
  
  &-pagination-bullet {
    width: 11%;
    height: 0;
    padding-bottom: 11%;
  }
}
$x: 770px;
$y: 1.618;
.content {
  justify-content: space-between;
}
.col-one {
  width: 100%;
  flex-shrink: 0;
  position: relative;
  overflow: hidden;
  @include mq(xs) {
    flex-direction: row;
    align-items: flex-end;
  }
  @include mq(smmd) {
    align-items: center;
  }
  @include mq(md) {
    flex-direction: column;
    width: 640px;
    height: 575px;
  }
  @include mq(lg) {
    width: $x;
    height: 620px;
  }
  p {
    font-size: vwp(14px);
    color: $eggplant;
    line-height: 1.4;
    text-align: right;
    margin: vwp(30px) vwp(10px) 0 vwp(10px);
    @include mq(xs) {
      font-size: vwl(14px);
      // margin: vwl(90px) 0 0 0;
      margin: 0 vwl(15px) vwl(35px) 0;
    }
    @include mq(sm) {
      font-size: 20px;
      margin: 60px 30px 0 0;
    }
    @include mq(md) {
      font-size: 17px;
      margin: 20px 0 0 0;
    }
    @include mq(lg) {
      font-size: 22px;
      margin: 45px 0 0 0;
      padding-right: 10px;
    }
    a {
      color: $cat1;
      font-weight: 700;
      border-bottom: solid 2px $cat1;
      transition: .2s;
      &:hover, &:focus {
        border-color: transparent;
        text-decoration: none;
      }
    }
  }
}
.col-two {
  flex-grow: 1;
  padding: 0 15px ;
  position: relative;
  transition: .4s;
  padding: 80px 15px 85px 15px;
  z-index: 1;
  @include mq(xmd) {
    display: none;
  }
  @include mq(lg) {
    padding: 80px 15px 100px 40px;
  }
  &[data-current='recently'] {
    padding-top: 270px;
    
  }
  .row {
    flex-direction: column;
    flex: 1;
    > div {
      position: relative;
    }
  }
}
#about {
  // .container {
  //   background: rgba(blue, .8);
  // }
  .col-one {
    justify-content: center;
    @include mq(xmd) {
      transform: translateY(-23%);
    }
    @include mq(xsm) {
      transform: translateY(-33%);
    }
    p {
      @include mq(mdlg) {
        font-size: 18px;
      }
    }
  }
  .col-two {
    padding: 0 102px 0 100px;
    @include mq(lg) {
      padding: 0 113px 0 130px;
    }
  }
}
#recently {
  position: relative;
  @include mq(xmd) {
    display: none;
  }
  transition: .2s;
  $x: 150px;
  $y: 10px;
  $z: 235px;
  background-image: linear-gradient(to bottom, 
    $bg 0%,
    $bg calc(50% - $x),
    $eggplant calc(50% - $x), 
    $eggplant calc(50% + $z),
    #fff calc(50% + $z),
    #fff 100%);
  @include mq(lg) {
    $x: 175px;
    $y: 10px;
    $z: 250px;
    background-image: linear-gradient(to bottom, 
      $bg 0%,
      $bg calc(50% - $x),
      $eggplant calc(50% - $x), 
      $eggplant calc(50% + $z),
      #fff calc(50% + $z),
      #fff 100%);
  }
  .col-one {
    box-shadow: 0 0 60px 60px rgba($eggplant,.05);
    background-color: rgba($white, 1);
    transition: .2s;
    @include mq(xlg) {
      width: 580px;
    }
    @include mq(lg) {
      margin-right: 40px;
    }
    &[data-current='recently'] {
      box-shadow: 0 0 0 0 rgba($eggplant, 0);
      background-color: rgba($white, 0);
    }
  }
}
.recently-background {
  position: relative;
  &::before, &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    @extend %dot-gradient;
    background-size:  18px;
    background-repeat: repeat-x;
    // transition: .2s;
  }
  &::before {
    transform: rotate(180deg);
    background-position: 50% 52px;
    // @extend %filterCat2;
    @extend %filterWhite;
    @include mq(lg) {
      background-position: 50% 60px;
      background-size:  20px;
    }
  }
  &::after {
    background-position: 50% 52px;
    // @extend %filterCat2;
    @extend %filterWhite;
    transition: .2s;
    opacity: 1;
    @include mq(lg) {
      background-position: 50% 128px;
      background-size:  20px;
    }
  }
  &[data-current^='cat'] {
    &::after {
      // @extend %filterEggplant;
      opacity: 0;
      // background-position: 50% 0px;
    }
  }
  // &[data-current='recently'], &[data-current='cat2'] {
  //   &::before {
  //     @extend %filterCat2;
  //   }
  // }
  // &[data-current='cat3'] {
  //   &::before {
  //     @extend %filterCat3;
  //   }
  // }
  // &[data-current='cat4'] {
  //   &::before {
  //     @extend %filterCat4;
  //   }
  // }
}
$z: calc(($x / $y) / $y);
.col-three {
  flex-grow: 1;
  // height: $z;
  padding: 0 15px;
}
.col-four {
  width: $z;
  height: $z;
  // background: shade(cornflowerblue, 20%);
  // background-image: url('../img/portfolio/illustration/diner.jpg');
  // background-size: cover;
  padding: 5px;
  .deco {
    justify-content: flex-end;

  }
}
.col-five {
  flex: 1;
  // padding: 30px;
  position: relative;
  .frame {
    background: #cc0099;
    border-radius: 50%;
    width: 90%;
    height: 90%;
    margin: 5%;
  }
}
.col-six {
  flex: 1;
  justify-content: flex-end;
  &.reverse {
    justify-content: flex-start;
  }
}
.two {
  width: 100%;
  height: 0;
  padding-bottom: 100%;
  position: relative;
  > div {
    padding: 5px;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
}
$z: calc(((($x / $y) / $y) / $y) / $y);
.three {
  width: $z;
  height: $z;
  padding: 5px;
}
.four {
  width: 100%;
  height: 0;
  padding-bottom: 100%;
  position: relative;
  > div {
    padding: 5px;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
}
.row {
  &.second {
    flex: 1;
    margin-top: 276.1px;
  }
}
.deco {
  display: flex;
  flex-basis: 100%;
  background: rgba(255, 255, 255, .5);
  border: solid 4px #fff;
  border-radius: 8px;
  flex: 1;
  height: 100%;
}
.circle {
  width: 75%;
  height: 75%;
  background: white;
  border-radius: 50%;
}

.gallery-cat-nav {
  width: 100%;
  position: relative;
  // z-index: 2;
  ul {
    padding: 0 15px;
    // padding: 0 0 0 17px;
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    $x: .1;
    position: relative;
    justify-content: space-between;
    width: 100%;
    @include mq(lg) {
      // padding: 0 34px 0 4px;
      padding: 0 49px 0 19px;
    }
    // &::before { // GUIDES
    //   content: '';
    //   top: 12px;
    //   left: 0;
    //   right: 0;
    //   height: 1px;
    //   background-color: #ccc;
    //   position: absolute;
    //   z-index: 20;
    // }
    li {
      flex-basis: calc(33% - 7px);
      position: relative;
      font-family: 'Boogaloo', sans;
      transition: .2s;
      > div {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
      }
      &:nth-of-type(1) {
        > div {
          &::before {
            border-color: rgba($cat1, 40%);
          }
          &::after {
            border-color: rgba($cat1, 20%);
          }
        }
      }
      a {
        width: 100%;
        height: 100%;
        text-align: center;
        // transition: .2s;
        display: flex;
        // align-items: flex-end;
        justify-content: center;
        color: $white;
        border-radius: 50%;
        font-weight: 500;
        font-size: 22px;
        position: relative;
        user-select: none;
        font-family: inherit;
        cursor: pointer;
        padding: 41px 0;
        line-height: 1;
        // box-shadow: 0 0 0 0 rgba(#fff, 1);
        background-color: $cat1;
        // border: solid 4px $eggplant;
        border: solid 6px rgba(#fff, 1);
        @include mq(lg) {
          font-size: 24px;
          padding: 36px 0;
        }
        &::before, &::after {
          // content: '';
          position: absolute;
          border: solid 6px rgba(#fff, 1);
          transition: .2s;
          // z-index: -1;
          border-radius: 50%;
          top: -6px;
          bottom: -6px;
          left: -6px;
          right: -6px;
        }
        &:hover, &:focus {
          // &::before {
          //   top: -6px;
          //   bottom: -6px;
          //   left: -6px;
          //   right: -6px;
          // }
          // &::after {
          //   top: -9px;
          //   bottom: -9px;
          //   left: -9px;
          //   right: -9px;
          // }
        }
        // &::before {
        //   @extend %dot-gradient;
        //   z-index: 1;
        //   background-repeat: repeat-x;
        //   background-position: 50% 0;
        //   background-size: 20px;
        //   opacity: .1;
        //   @extend %filterWhite;
        // }
        &::after {
          border: solid 1px rgba(#fff, .1);
        }
        &:hover, &:focus {
          text-decoration: none;
        }
        span {
          position: absolute;
          top: -5px;
          left: -5px;
          right: -5px;
          bottom: -5px;
          // border: solid 12px $eggplant;
          background: $eggplant;
          transition: .2s;
          user-select: none;
          pointer-events: none;
          border-radius: 50%;
          z-index: -1;
          transform: scale(1);
        }
      }
    }
    // &[data-current="cat2"] { 
    //   .cat2 {
    //     background: $cat1;
    //     &::before {
    //       border-color: $cat1;
    //     }
    //   }
    // }
    &[data-current="cat1"] {
      .cat1 {
        // box-shadow: 0 0 0 4px rgba(#fff, 1);
        color: $cat1;
        background: $white;
        border-color: $cat1;
        span {
          transform: scale(1.24);
        }
      }
    }
    &[data-current="cat2"] {
      .cat2 {
        color: $cat1;
        background: $white;
        border-color: $cat1;
        span {
          transform: scale(1.24);
        }
      }
    }
    &[data-current="cat3"] {
      .cat3 {
        color: $cat1;
        background: $white;
        border-color: $cat1;
        span {
          transform: scale(1.24);
        }
      }
    }
    &[data-current="cat4"] {
      .cat4 {
        // box-shadow: 0 0 0 4px rgba(#fff, 1);
        span {
          border-color: $eggplant;
        }
      }
    }
    // .cat1, .cat2, .cat3, .cat4 {
      
    // }
    // .cat1, .cat2 {
    //   align-items: flex-start;
      // padding-top: 48px;
      // @include mq(lg) {
      //   padding-top: 60px;
      // }
    // }
    // .cat3, .cat4 {
    //   align-items: flex-end;
      // padding-bottom: 26px;
      // @include mq(lg) {
      //   padding-bottom: 35px;
      // }
      // &::before {
      //   top: -6px;
      //   bottom: 2px;
      // }
      // &::after {
      //   top: -9px;
      //   bottom: 6px;
      // }
    // }
    // .cat1, .cat3 {
    //   &::before {
    //     left: 0;
    //     right: 0;
    //   }
    //   &::after {
    //     left: 0;
    //     right: 0;
    //   }
    //   &:hover, &:focus {
    //     &::before {
    //       left: 2px;
    //       right: -6px;
    //     }
    //     &::after {
    //       left: 6px;
    //       right: -9px;
    //     }
    //   }
    // }
    // .cat2, .cat4 {
    //   &::before {
    //     left: 0;
    //     right: 0;
    //   }
    //   &::after {
    //     left: 0;
    //     right: 0;
    //   }
    //   &:hover, &:focus {
    //     &::before {
    //       left: -6px;
    //       right: 2px;
    //     }
    //     &::after {
    //       left: -9px;
    //       right: 6px;
    //     }
    //   }
    // }
    .cat1 {
      // width: calc(100% * (1 - $x));
      // height: calc(100% * (1 - $x));
      // width: 124px;
      // height: 124px;
      // background-color: $cat1;
      // border: solid 2px tint($cat1, 10%);
      // text-shadow: 1px 1px 0 shade($cat1, 45%);
      
      &:hover, &:focus {
        // text-shadow: 2px 2px 0 shade($cat1, 45%);
        &::before {
          // border-color: rgba($cat1, 70%);
        }
        &::after {
          // border-color: rgba($cat1, 40%);
        }
      }
    }
    .cat2 {
      // background-color: $cat2;
      // border: solid 2px tint($cat2, 10%);
      // text-shadow: -1px 1px 0 shade($cat2, 45%);
      &:hover, &:focus {
        // text-shadow: -2px 2px 0 shade($cat2, 45%);
        &::before {
          // border-color: rgba($cat2, 70%);
        }
        &::after {
          // border-color: rgba($cat2, 40%);
        }
      }
    }
    .cat3 {
      // background-color: $cat3;
      // border: solid 2px tint($cat3, 20%);
      // text-shadow: 1px 1px 0 shade($cat3, 30%);
      &:hover, &:focus {
        // text-shadow: 2px 2px 0 shade($cat3, 30%);
        &::before {
          // border-color: rgba($cat3, 50%);
        }
        &::after {
          // border-color: rgba($cat3, 20%);
        }
      }
    }
    // .cat4 {
    //   // background-color: $cat4;
    //   border: solid 2px tint($cat4, 20%);
    //   // text-shadow: -1px 1px 0 shade($cat4, 20%);
    //   &:hover, &:focus {
    //     // text-shadow: -2px 2px 0 shade($cat4, 20%);
    //     &::before {
    //       border-color: rgba($cat4, 50%);
    //     }
    //     &::after {
    //       border-color: rgba($cat4, 20%);
    //     }
    //   }
    // }
  }
  .backdrop {
  // display: none;
    position: absolute;
    left: calc(50% - 8px);
    // right: 0;
    top: calc(50% - 8px);
    // bottom: 10%;
    width: 16px;
    height: 16px;
    background-color: var(--primary-bg-color);
    border: solid 1px var(--primary-bg-color);
    // z-index: -1;
    &::before, &::after {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: solid 2px $primary-bg;
    }
    &::before {

    }
    &::after {
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -8px;
      border-width: 1px;
    }
    &:last-of-type {
      // width: 30px;
      // height: 30px;
      // top: calc(50% - 15px);
      // left: calc(50% - 15px);
      // background: none;
    }
  }
}

.gallery-info {
  // width: calc 100%;
  flex-grow: 1;
  position: relative;
  // height: 200px;
  // background: #fff;
  transition: .2s;
  // margin-left: 45px;
  border: solid 1px transparent;  
  margin: 20px 45px 0 40px;
  @include mq(lg) {
    margin: 30px 45px 0 15px;
  }
  &[data-current^="cat"] {
    > div {
      border-color: $eggplant;
    }
  }  
  > div {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    // opacity: 0;
    transition: .2s;
    // padding: 0 15px 12px 15px;
    // display: none;
    display: flex;
    flex-direction: column;
    user-select: none;
    border: solid 10px transparent;
    border-radius: 24px;
    &::before, &::after {
      content: '';
      top: -5px;
      bottom: -5px;
      left: 60px;
      right: 60px;
      position: absolute;
      border-top: solid 2px rgba(#fff, .2);
      border-bottom: solid 2px rgba(#fff, .2);
    }
    &::after {
      top: -8px;
      bottom: -8px;
      left: 60px;
      right: 60px;
      border-top: solid 1px rgba(#fff, .1);
      border-bottom: solid 1px rgba(#fff, .1);
    }
    &[data-active='true'] {
      opacity: 1;
      z-index: 1;
      // display: flex;
    }
    
    // &[data-slide='1'] {
    //   background: $primary-bg;
    // }
  }
  .swiper-slide {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    text-align: left;
    background-color: $white;
    &.swiper-slide-active {
      z-index: 1;
    }
    &[data-category='products'] {
      
      p {
        color: shade($cat2, 25%);
      }
      &[data-group-name='recently'] {
        background-color: transparent;
      }
    }
    &[data-category='promos'] {
      ul {
        &.site-link {
          li {
            a {
              color: $cat2;
              border-bottom: solid 1px tint($cat2, 50%)
            }
            &::before {
              border: solid 2px $cat2;
            }
          }
        }
      }
    }
    &[data-category='checkout'] {
      ul {
        &.site-link {
          li {
            a {
              color: $cat3;
              border-bottom: solid 1px tint($cat3, 50%)
            }
            &::before {
              border: solid 2px $cat3;
            }
          }
        }
      }
    }
  }
  
  h3 {
    line-height: 1;
    // margin: 24px 0 5px 0;
    margin: 0;
    // padding: 0 0 0 70px;
    padding: 0;
    // text-shadow: 0 1px 0 #fff;
    position: relative;
    z-index: 1;
    @include mq(xlg) {
      font-size: 20px;
    }
    .title {
      font-family: 'Boogaloo', sans;
    }
    .version {
      font-size: 70%;
      font-weight: 400;
      margin-left: 5px;
      opacity: .6;
    }
  }
  .group-nav {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    display: flex;
    align-items: flex-end;
  }
  .details {
    display: flex;
    column-gap: 10px;
    align-items: center;
    color: $cat1;
    // border-radius: 2px;
    padding: 15px 15px 10px 15px;
    justify-content: space-between;
    position: relative;
    margin: 15px 0 5px 0;
    background-color: $eggplant;
    z-index: 0;
    @include mq(lg) {
      padding: 15px 15px 10px 20px;
    }
    &::before, &::after {
      content: '';
      position: absolute;
      left: 4px;
      right: 4px;
      border-left: none;
      border-right: none;
      border-top: none;
      z-index: -1;
    }
    &::before {
      top: -2px;
      bottom: -2px;
    }
    &::after {
      top: -4px;
      bottom: -4px;
      left: 8px;
      right: 8px;
    }
    .group-info, .group-nav {
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
      display: flex;
      align-items: flex-end;
    }
    .group-info {
      flex-grow: 1;
      flex: 1;
      // column-gap: 5px;
      font-size: 13px;
      @include mq(lg) {
        font-size: 16px;
      }
      > span {
        margin-left: 5px;
      }
    }
    .group-nav {
      flex-shrink: 0;
      justify-content: flex-end;
      // column-gap: 8px;
      > div {
        display: flex;
        flex-direction: row;
      }
    }
    // .version {
    //   display: none;
    // }
    .dot {
      font-size: 14px;
      font-weight: 700;
      color: $white;
      background-color: $cat1;
      text-decoration: none;
      width: 18px;
      height: 18px;
      line-height: 14px;
      border-radius: 50%;
      text-align: center;
      display: flex;
      align-items: center;
      position: relative;
      margin-left: 8px;
      &::before {
        content: attr(data-slide);
        width: 100%;
      }
      &::after {
        content: '';
        $x: -4px;
        position: absolute;
        top: $x;
        left: $x;
        right: $x;
        bottom: $x;
        border: solid 2px #fff;
        transition: .2s;
        border-radius: 50%;
      }
      &[data-active='false'] {
        font-weight: 500;
        cursor: pointer;
        &::after {
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-color: transparent;
        }
      }
    }
    + .info {
      margin-top: 10px;
      text-align: left;
    }
  }
  .info {
    padding: 5px 15px 15px 10px;
    // margin: 0 0 0 10px;
    // background-color: $white;
    flex-grow: 1;
  }
  p {
    font-size: 14px;
    margin: 0 5px 5px 15px;
    line-height: 1.3;
    text-align: left;
    // color: $white;
    color: $eggplant;
    // background-color: $white;
    @include mq(lg) {
      font-size: 16px;
    }
    &.tools {
      font-size: 14px;
      font-weight: 500;
      color: #666;
    }
  }
  .footer {
    flex-grow: 1;
    display: flex;
    align-items: flex-end;
    margin: 0 15px 15px 15px;
  }
  ul {
    margin: 0;
    padding: 0; 
    list-style-type: none;
    &.site-link {
      padding: 0 0 0 15px;
      li {
        padding: 0 0 0 12px;
        position: relative;
        font-size: 14px;
        font-weight: 500;
        z-index: 1;
        @include mq(lg) {
          font-size: 16px;
        }
        a {
          transition: .2s;
          color: #fff;
          &:hover, &:focus {
            border-bottom-color: transparent !important;
            text-decoration: none;
          }
        }
        &::before {
          content: '';
          width: 8px;
          height: 8px;
          background-color: #fff;
          // border: solid 2px #fff;
          position: absolute;
          left: 0;
          top: 7px;
        }
      }
    }
    &.tools {
      display: flex;
      // border: solid 1px tint($cat1, 70%);
      // background-color: #fff;
      // border-radius: 8px;
      // padding: 8px;
      flex-wrap: wrap;
      margin: 10px 3px 0 3px;
      // column-gap: 6px;
      // row-gap: 6px;
      li {
        display: flex;
        flex-wrap: nowrap;
        padding: 1px 8px; 
        background: tint($eggplant, 95%);
        border-radius: 4px;
        font-size: 13px;
        border: solid 1px rgba($eggplant, .075);
        margin: 3px;
      }
    }
  }
  > div {
    &[data-active-slide='2'] {
      .details {
        *[data-slide='2'] {
          display: flex;
        }
      }
    }
  }
  // Category color rules
  // &[data-current='recently'] {
  //   background-color: transparent;
  //   > div {
  //     &::before, &::after {
  //       border-color: transparent;
  //     }
  //   }
  // }
  // &[data-current='cat1'] {
  //   background-color: tint($cat1, 92.5%);
  //   border-color: tint($cat1, 85%);
  // }
  // &[data-current='cat2'] {
  //   background-color: tint($cat2, 92.5%);
  //   border-color: tint($cat2, 85%);
  // }
  // &[data-current='cat3'] {
  //   background-color: tint($cat3, 92.5%);
  //   border-color: tint($cat3, 85%);
  // }
  // &[data-current='cat4'] {
  //   background-color: tint($cat4, 92.5%);
  //   border-color: tint($cat4, 85%);
  // }
  > div {
    
    h3 {
      color: #fff;
    }
    .dot {
      color: $cat1;
      &[data-active='true'] {
        background-color: $white;
        color: $cat1;
        &::after {
          border-color: $cat1;
        }
      }
    }
    ul {
      &.site-link {
        li {
          a {
            color: $cat1;
            border-bottom: solid 1px tint($cat1, 50%)
          }
          &::before {
            border:  solid 2px $cat1;
          }
        }
      }
    }
  }
}
.gallery-nav {
  position: absolute;
  bottom: 220px;
  z-index: 3;
  @include mq(lg) {
    bottom: 260px;
  }
  &.prev, &.next {
    color: $primary-bg;
    
    width: 32px;
    height: 90px;
    // filter: invert(100%) sepia(100%) saturate(0%) hue-rotate(288deg) brightness(102%) contrast(102%);
    transition: .2s;
    opacity: 0;
    cursor: pointer;
    // position: relative;
    
    &::before, &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      @extend %chevron;
      @extend %svg;
      transition: .2s;
    }
    &::after {
      // left: -2px;
      // right: 2px;
      @extend %filterCat1;
    }
    
    &[data-current^='cat'] {
      opacity: 1;
    }
    // &[data-current='cat1'] {
    //   &::after {
    //     @extend %filterCat1;
    //   }
    // }
    // &[data-current='cat2'] {
    //   &::after {
    //     @extend %filterCat2;
    //   }
    // }
    // &[data-current='cat3'] {
    //   &::after {
    //     @extend %filterCat3;
    //   }
    // }
    // &[data-current='cat4'] {
    //   &::after {
    //     @extend %filterCat4;
    //   }
    // }
    &:hover, &:focus {
      &::after {
        left: -2px;
        right: -2px;
      }
    }
  }
  &.prev {
    left: 0;
    transform: rotate(180deg);
  }
  &.next {
    right: 10px;
  }
  
}
.btn-continue {
  display: inline-block;
  width: 33%;
  // height: 40px;
  color: $white;
  font-size: 40px;
  font-family: 'Boogaloo', sans;
  // line-height: .65;
  height: 100px;
  // margin: 50px 70px 0 0;
  margin: 10px 70px 25px 0;
  position: relative;
  text-shadow: -2px 2px 0 shade($cat1, 45%);
  transition: .2s all;
  border: none;
  background: transparent;
  cursor: pointer;
  line-height: inherit;
  @include mq(lg) {
    width: 26%;
  }
  &::before, &::after {
    content: '';
    @extend %chevron;
    @extend %svg;
    width: 62px;
    height: 100px;
    position: absolute;
    right: -60px;
    top: 20px;
    transition: .2s;
  }
  &::after {
    right: -21px;
  }
  span {
    height: 60px;
    background-color: $cat1;
    position: absolute;
    top: 40px;
    left: 0;
    right: 0;
    padding: 0 45px 0 0;
  }

  &:hover, &:focus {
    color: $white;
    text-decoration: none;
    text-shadow: -6px 2px shade($cat1, 25%);
    // margin: 50px 60px 0 0;
    &::before {
      right: -70px;
    }
    &::after {
      right: -31px;
    }
  }
}
.swiper.gallery .swiper-slide {
  &[data-group-name='recently'] {
    .btn-continue {
      &::before, &::after {
        @extend %filterCat1;
      }
    }
  }
  &[data-group-name='more'] {
    .btn-continue {
      text-shadow: -2px 2px 0 shade($cat4, 30%);
      span {
        background-color: $cat4;
      }
      &::before, &::after {
        @extend %filterCat4;
      }
      &:hover, &:focus {
        text-shadow: -6px 2px shade($cat4, 30%);
      }
    }
  }
}
.sticker {
  width: 80vw;
  text-align: center;
  top: 0;
  left: 0;
  transform: rotate(-5deg);
  // box-shadow: 0 0 4px 4px rgba(0, 0, 0, .15);
  border: solid 4px $white;
  background: $white;
  border-radius: 16px;
  padding: 0 15px;
  z-index: 1;
  margin: 0 auto;
  @include mq(xs) {
    width: 45vw;
    transform: rotate(-5deg) scale(.75);
  }
  @include mq(sm) {
    width: 300px;
    transform: rotate(-5deg) scale(.85);
  }
  @include mq(md) {
    position: absolute;
    top: 50%;
    transform: rotate(-5deg) translateY(-55%) scale(.8);
  }
  @include mq(lg) {
    transform: rotate(-5deg) translateY(-50%);
    left: 30px;
  }
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 16px;
    $stickerTint: tint($cat1, 90%);
    $stickerTint: $eggplant;
    background: linear-gradient(65deg, 
      rgba($stickerTint, .05) 0%,
      rgba($stickerTint, .05) 30%,
      transparent 30%,
      transparent 32%,
      rgba($stickerTint, .05) 32%,
      rgba($stickerTint, .05) 34%,
      transparent 34%,
      transparent 66%,
      rgba($stickerTint, .05) 66%,
      rgba($stickerTint, .05) 68%,
      transparent 68%,
      transparent 70%,
      rgba($stickerTint, .05) 70%,
      rgba($stickerTint, .05) 100%,
      );
    z-index: 2
  }
  h1 {
    font-size: vwp(44px);
    margin: vwp(15px) 0 vwp(20px) 0;
    line-height: 1.6;
    @include mq(xs) {
      font-size: vwl(44px);
      margin: vwl(15px) 0 vwl(20px) 0;
    }
    @include mq(sm) {
      margin: 15px 0 20px 0;
      font-size: 54px;
    }
  }
  h3 {
    margin: 0;
    line-height: 1;
    font-size: vwp(18px);
    font-weight: 500;
    color: $white;
    @include mq(xs) {
      font-size: vwl(18px);
    }
    @include mq(sm) {
      font-size: 22px;
    }
    span {
      font-size: vwp(28px);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      @include mq(xs) {
        font-size: vwl(28px);
      }
      @include mq(sm) {
        font-size: 36px;
      }
    }
  }
  .row {
    flex-direction: column;
  }
  .stripe {
    &.top, &.bottom {
      background-color: $cat1;
      padding: vwp(10px) 0;
      @include mq(xs) {
        padding: vwl(10px) 0;
      }
      @include mq(sm) {
        padding: 10px 0;
      }
    }
    &.top {
      border-radius: 12px 12px 0 0;
    }
    &.bottom {
      border-radius: 0 0 12px 12px;
    }
  }
}
.next-icon {
  width: 67%;
  height: 100%;
  margin: 0 auto;
  opacity: .33;
  &::before, &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    @extend %chevron;
    @extend %filterWhite;
    // @extend %filterCat2;
    background-size: auto 72%;
    background-repeat: no-repeat;
  }
  &::before {
    background-position: 20% 50%;
  }
  &::after {
    background-position: 80% 50%;
  }
}
.image-overlay {
  user-select: none;
  .modal-header {
    border: none;
    padding: 0;
  }
  img {
    width: 100%;
    max-width: 1430px;
    // &[data-mobile='true'] {
    //   max-width: 400px;
    // }
  }
  .btn-close {
    position: absolute;
    top: 0px;
    right: -45px;
    background-color: $white;
    width: 23px;
    height: 23px;
    border-radius: 50%;
    opacity: 1;
    background-size: 12px;
    cursor: pointer;
  }
}
.gallery-contents {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  column-gap: 10px;
  row-gap: 10px;
  padding: 0 45px;
  margin: 65px 0 0 0;
  li {
    list-style-type: none;
    width: calc(33% - 4.5px);
    border: solid 3px $cat1;
    height: 88px;
    cursor: pointer;
    background-size: cover;
    display: flex;
    &.cat2 {
      width: calc(25% - 7.75px);
    }
  }
  a {
    flex: 1;
    display: flex;
    flex-direction: column;
    text-align: left;
    justify-content: flex-end;
    color: $white;
    font-weight: 500;
    font-size: 16px;
    text-shadow: 1px 1px 0 $eggplant;
    span {
      width: 100%;
      background-color: rgba($eggplant, .65);
      padding: 2px 0 0 6px;
    }
  }
}

.swiper.thumbs, .case-studies {
  [data-group-name='shop'] {
    background-image: url('../img/thumbs/products/shop.jpg');
  }
  [data-group-name='islay'] {
    background-image: url('../img/thumbs/products/islay.jpg');
  }
  [data-group-name='sheets'] {
    background-image: url('../img/thumbs/products/sheets.jpg');
  }
  [data-group-name='cl-01-04'] {
    background-image: url('../img/thumbs/promos/cl-01-04.jpg');
  }
  [data-group-name='cl-03-01'] {
    background-image: url('../img/thumbs/promos/cl-03-01.jpg');
  }
  [data-group-name='pr-05-03'] {
    background-image: url('../img/thumbs/promos/pr-05-03.jpg');
  }
  [data-group-name='tiktok'] {
    background-image: url('../img/thumbs/promos/tiktok.jpg');
  }
  [data-group-name='cart'] {
    background-image: url('../img/thumbs/checkout/cart.jpg');
  }
  [data-group-name='address'] {
    background-image: url('../img/thumbs/checkout/address.jpg');
  }
  [data-group-name='payment'] {
    background-image: url('../img/thumbs/checkout/payment.jpg');
  }
  [data-group-name='bg'] {
    background-image: url('../img/thumbs/bg/bg.jpg');
  }
  [data-group-name='dh'] {
    background-image: url('../img/thumbs/mm/dh.jpg');
  }
  [data-group-name='mm'] {
    background-image: url('../img/thumbs/mm/60654.jpg');
  }
  [data-group-name='nbm'] {
    background-image: url('../img/thumbs/mm/nbm.jpg');
  }
  [data-group-name='ad'] {
    background-image: url('../img/thumbs/mm/ad.jpg');
  }
  [data-group-name='lxh'] {
    background-image: url('../img/thumbs/mm/lxh.jpg');
  }
  [data-group-name='mmdc'] {
    background-image: url('../img/thumbs/mm/mmdc.jpg');
  }
  [data-group-name='wdc'] {
    background-image: url('../img/thumbs/mm/wdc.jpg');
  }
  [data-group-name='start'] {
    background-image: url('../img/thumbs/collage01.jpg');
  }
}

.case-studies {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  column-gap: 1.5rem;
  row-gap: 1.5rem;
  @include mq(md) {
    width: 66.66666667%;
  }
}
.item {
  height: 0;
  position: relative;
  background-size: cover;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  float: none;
  display: flex;
  padding-bottom: 30%;
  flex: 1 1 calc(50% - 1.5rem);
  @include mq(xs) {
    // background-size: 100%;
    padding-bottom: 20.5%;
    flex: 1 1 calc((100% / 4) - 4.5rem);
  }
  &.cat1 {
    flex: 1 1 calc((100% / 3) - 3rem);
  }
  &:last-of-type {
    a {
      &:before, &::after {
        content: '';
        position: absolute;
        background-repeat: no-repeat;
        background-size: 20%;
        @include chevron(#000);
        @extend %filterEggplant;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        opacity: .75;
        transition: .2s;
      }
      &:before {
        background-position: 40% 50%;
      }
      &:after {
        background-position: 60% 50%;
      }
      &:hover {
        &:before, &::after {
          @extend %filterCat1;
        }
      }
    }
  }
  a {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: solid 4px rgba($eggplant, .8);
    transition: .2s;
    &:hover {
      border: solid 4px shade($cat1, 10%);
      .case-number {
        background-color: shade($cat1, 10%);
        color: $white;
      }
      .case-title {
        
        background-color: rgba(shade($cat1, 10%), 1);
      }
    }
    span {
      display: block;
    }
    .case-number {
      background-color: rgba($eggplant, .8);
      color: $cat1;
      width: vwp(24px);
      height: vwp(24px);
      font-size: vwp(12px);
      line-height: 1;
      text-align: center;
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      z-index: 2;
      transition: .2s;
      @include mq(xs) {
        width: vwl(24px);
        height: vwl(24px);
        font-size: vwl(12px);
      }
      @include mq(sm) {
        width: 3.5rem;
        height: 3.5rem;
        font-size: 2rem;
      }
    }
    .case-title {
      width: 100%;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba($eggplant, .8);
      color: $white;
      font-weight: 500;
      display: flex;
      align-items: flex-start;
      justify-content: flex-end;
      flex-direction: column;
      font-size: vwp(11px);
      padding: vwp(5px) vwp(4px) 0 vwp(4px);
      @include mq(xs) {
        font-size: vwl(11px);
        padding: vwl(5px) vwp(4px) 0 vwp(4px);
      }
      @include mq(sm) {
        font-size: 1.5rem;
        padding: .5rem 1rem 0rem 1rem;
      }
      @include mq(lg) {
        font-size: 1.6rem;
      }
    }
  }
}
