/* When editing, use the source file for this page in client/resources/sass */
@import 'compass';

// Core variables and mixins
@import 'bootstrap/variables';
@import 'bootstrap/mixins';

@import 'partials/variables';
@import 'partials/mixins';
@import 'partials/svg';
@import 'partials/layout';
@import 'partials/snippets/lull-button-new';
// @import "partials/snippets/max-width-1920";
//@import "partials/snippets/video-embed";

html {
  min-height: 100%;
  position: relative;
}
main,
nav .container-fluid {
  max-width: 1920px;
  margin: 0 auto;
}
body {
  background-color: #f7f6f4;
}

.desktop-backdrop {
  background-color: $white;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: calc(50% + 62px);
  z-index: -1;
  @include mq(xsm) {
    display: none;
  }
  @include mq(md) {
    left: calc(50% + 81px);
  }
}

// Nav
// .logo {
//   @extend %svg;
//   display: inline-block;
//   @include mq(sm) {
//     width: 38px;
//     height: 34px;
//     margin-top: 8px;
//   }
//   &:focus {
//     opacity: 0.75;
//     outline: none;
//   }
// }
$navHeight: 42px;
$navHeightSm: 50px;
// nav {
//   background-color: $navy;
//   height: $navHeight;
//   position: fixed;
//   right: 0;
//   left: 0;
//   z-index: 1030;
//   margin: 0 auto;
//   top: 0;
//   @include clearfix;
//   @include mq(xsm) {
//     height: vwl($navHeight);
//   }
//   @include mq(xxs) {
//     height: vwp($navHeight);
//   }
//   @include mq(sm) {
//     height: $navHeightSm;
//   }
//   .support {
//     @include mq(xsm) {
//       padding-right: 0;
//     }
//   }
//   ul {
//     margin: 0;
//     padding: 0;
//     list-style: none;
//     display: flex;
//     flex-direction: row;
//     @include mq(sm) {
//       justify-content: center;
//     }
//   }
//   li {
//     height: $navHeight;
//     padding: 0;
//     user-select: none;
//     @include mq(xsm) {
//       height: vwl($navHeight);
//     }
//     @include mq(xxs) {
//       height: vwp($navHeight);
//     }
//     @include mq(sm) {
//       height: $navHeightSm;
//     }
//     a {
//       width: 100%;
//       height: 100%;
//       background-repeat: no-repeat;
//       display: block;
//     }
//     &.cart-icon {
//       margin: 0;
//       width: 26px;
//       position: relative;
//       background-size: 26px;
//       background-position: 0 10px;
//       background-repeat: no-repeat;
//       @include mq(xsm) {
//         width: vwl(26px);
//         background-size: vwl(26px);
//         background-position: 0 vwl(10px);
//       }
//       @include mq(xxs) {
//         width: vwp(26px);
//         background-size: vwp(26px);
//         background-position: 0 vwp(10px);
//       }
//       @include mq(sm) {
//         width: 32px;
//         background-size: 32px;
//         background-position: 0 12px;
//       }
//       span {
//         color: $teal;
//         position: absolute;
//         font-size: 1.2rem;
//         font-weight: 900;
//         left: 57%;
//         transform: translateX(-57%);
//         top: 7px;
//         text-align: center;
//         font-weight: 900;
//         letter-spacing: -1px;
//         @include mq(xsm) {
//           font-size: vwl(12px);
//           top: vwl(7px);
//           letter-spacing: vwl(-1px);
//         }
//         @include mq(xxs) {
//           font-size: vwp(12px);
//           top: vwp(7px);
//           letter-spacing: vwp(-1px);
//         }
//         @include mq(sm) {
//           font-size: 1.4rem;
//           top: 8px;
//         }
//       }
//     }
//     &.phone {
//       margin-left: auto;
//       @include mq(xsm) {
//         width: 20px;
//         width: vwl(20px);
//       }
//       @include mq(xxs) {
//         width: vwp(20px);
//       }
//       a {
//         background-size: 16px;
//         background-position: 50% 15px;
//         @include mq(xsm) {
//           background-size: vwl(16px);
//           background-position: 50% vwl(15px);
//         }
//         @include mq(xxs) {
//           background-size: vwp(16px);
//           background-position: 50% vwp(15px);
//         }
//         @include mq(sm) {
//           padding-left: 30px;
//           background-position: 10px 18px;
//           font-size: 1.6rem;
//           color: #82949d;
//           font-weight: 500;
//         }
//         &:hover,
//         &:focus {
//           color: $white;
//           outline: none;
//         }
//       }
//       .digits {
//         display: inline-block;
//         margin-top: 15px;
//         @include mq(xsm) {
//           margin-top: vwl(15px);
//         }
//         @include mq(xxs) {
//           margin-top: vwp(15px);
//         }
//       }
//     }
//     &.exit {
//       width: 20px;
//       margin-left: 10px;
//       @include mq(xsm) {
//         width: vwl(20px);
//         margin-left: vwl(10px);
//       }
//       @include mq(xxs) {
//         width: vwp(20px);
//         margin-left: vwp(10px);
//       }
//       @include mq(sm) {
//         margin-left: 20px;
//       }
//       a {
//         background-size: 15px;
//         background-position: 100% 15px;
//         @include mq(xsm) {
//           background-size: vwl(15px);
//           background-position: 100% vwl(15px);
//         }
//         @include mq(xxs) {
//           background-size: vwp(15px);
//           background-position: 100% vwp(15px);
//         }
//         @include mq(sm) {
//           background-position: 100% 18px;
//         }
//         &:focus {
//           outline: none;
//         }
//       }
//     }
//   }
// }
h1,
h2,
h3,
h4,
h5,
h6,
p {
  line-height: 1;
  color: $navy;
}
h1 {
  color: #fff;
  font-weight: 500;
  font-size: 1.4rem;
  margin: 16px 0 0 15px;
  padding: 0;
  @include mq(xsm) {
    font-size: vwl(14px);
    margin: vwl(16px) 0 0 vwl(15px);
  }
  @include mq(xxs) {
    font-size: vwp(14px);
    margin: vwp(16px) 0 0 vwp(15px);
  }
  @include mq(sm) {
    font-size: 1.8rem;
  }
}
h2 {
  font-weight: 900;
  font-size: 2rem;
  margin: 10px 0 15px 0;
  @include mq(xsm) {
    font-size: vwl(20px);
    margin: vwl(10px) 0 vwl(15px) 0;
  }
  @include mq(xxs) {
    font-size: vwp(20px);
    margin: vwp(10px) 0 vwp(15px) 0;
  }
  @include mq(sm) {
    font-size: 2.3rem;
  }
  @include mq(lg) {
    font-size: 2.6rem;
  }
  @include mq(lg) {
    font-size: 2.8rem;
  }
}
main h2 {
  span {
    background-color: #f7f5f3;
    position: relative;
    z-index: 1;
    padding-right: 5px;
    @include mq(xsm) {
      padding-right: vwl(5px);
    }
    @include mq(xxs) {
      padding-right: vwp(5px);
    }
  }
}
h3 {
  font-size: 1.5rem;
  margin: 5px 0 0 0;
  font-weight: 700;
  @include mq(xsm) {
    font-size: vwl(15px);
    margin: vwl(5px) 0 0 0;
  }
  @include mq(xxs) {
    font-size: vwp(15px);
    margin: vwp(5px) 0 0 0;
  }
  @include mq(sm) {
    font-size: 1.6rem;
  }
  @include mq(md) {
    font-size: 1.8rem;
  }
  @include mq(lg) {
    font-size: 2rem;
  }
  &[data-longtitle='true'] {
    letter-spacing: -0.65px;
    @include mq(xsm) {
      letter-spacing: vwl(-0.65px);
    }
    @include mq(xxs) {
      letter-spacing: vwp(-0.65px);
    }
  }
}
h4 {
  font-size: 1.4rem;
  margin: 5px 0;
  font-weight: 500;
  @include mq(xsm) {
    font-size: vwl(14px);
    margin: vwl(5px) 0;
  }
  @include mq(xxs) {
    font-size: vwp(14px);
    margin: vwp(5px) 0;
  }
  @include mq(md) {
    font-size: 1.6rem;
  }
  @include mq(lg) {
    font-size: 1.8rem;
  }
}
h5 {
  font-size: 1.2rem;
  text-align: center;
  font-weight: 700;
  margin: 0 0 5px 0;
  @include mq(xsm) {
    font-size: vwl(12px);
    margin: 0 0 vwl(5px);
  }
  @include mq(xxs) {
    font-size: vwp(12px);
    margin: 0 0 vwp(5px);
  }
  @include mq(md) {
    font-size: 1.4rem;
  }
  @include mq(lg) {
    font-size: 1.6rem;
    margin: 0 0 10px 0;
  }
}
h6 {
  font-size: 2.2rem;
  text-align: center;
  font-weight: 700;
  margin: 10px 0;
  @include mq(xsm) {
    font-size: vwl(22px);
    margin: vwl(10px) 0;
  }
  @include mq(xxs) {
    font-size: vwp(22px);
    margin: vwp(10px) 0;
  }
  @include mq(lg) {
    font-size: 3.4rem;
    margin: 10px 0 5px 0;
  }
}
p {
  font-size: 1.2rem;
  margin: 10px 0;
  @include mq(xsm) {
    font-size: vwl(12px);
    margin: vwl(10px) 0;
  }
  @include mq(xxs) {
    font-size: vwp(12px);
    margin: vwp(10px) 0;
  }
  @include mq(md) {
    font-size: 1.6rem;
  }
  @include mq(lg) {
    font-size: 1.8rem;
  }
  &.small {
    font-size: 0.9rem;
    color: #666;
    text-align: right;
    margin-bottom: 0;
    line-height: 1.2;
    @include mq(xsm) {
      font-size: vwl(9px);
    }
    @include mq(xxs) {
      font-size: vwp(9px);
    }
    @include mq(md) {
      font-size: 1.1rem;
    }
    @include mq(lg) {
      font-size: 1.2rem;
    }
  }
}
.alert {
  color: $pink;
}
.term {
  &::after {
    content: attr(data-term);
  }
}
.qualified .term {
  &[data-term='18'] {
    &::before {
      content: ' or ';
    }
  }
  &[data-term='24'] {
    &::before {
      content: ', 18 or ';
    }
  }
}

main {
  margin-top: $navHeight;
  @include mq(xssm) {
    margin-top: vwl($navHeight);
    padding-left: 20%;
    padding-right: 20%;
  }
  @include mq(xxs) {
    margin-top: vwp($navHeight);
  }
  @include mq(sm) {
    margin-top: $navHeightSm;
  }

  > .container {
    @include mq(lg) {
      width: 1100px;
    }
  }
  h2 {
    position: relative;
    &::after {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      height: 1px;
      background-color: #dbdad8;
      top: 60%;
      z-index: 0;
    }
  }
}

.cart,
.order-summary {
  // Each column, outside of mobile
  @include mq(sm) {
    padding-top: 30px;
  }
  @include mq(lg) {
    padding-top: 45px;
  }
}
.cart {
  @include mq(smmd) {
    padding-right: 45px;
    padding-bottom: 135px;
  }
  @include mq(md) {
    padding-bottom: 150px;
  }
  @include mq(lg) {
    padding-bottom: 180px;
  }
}

.cart-head {
  @include mq(sm) {
    display: flex;
    flex-direction: column;
    // The heading and discount messages swap positions outside of mobile
  }
  .heading {
    margin-top: 15px;
    @include mq(xsm) {
      margin-top: vwl(15px);
    }
    @include mq(xxs) {
      margin-top: vwp(15px);
    }
  }
}
.discount-message {
  background-color: tint($pink, 90%);
  text-align: center;
  height: 42px;
  @include mq(xsm) {
    height: vwl(42px);
  }
  @include mq(xxs) {
    height: vwp(42px);
  }
  @include mq(sm) {
    order: 2;
    width: calc(100% - 30px);
    margin-left: 15px;
    margin-bottom: 15px;
    border-radius: 6px;
  }
  @include mq(md) {
    height: 50px;
    margin-bottom: 25px;
  }
  p {
    font-weight: 700;
    display: inline-block;
    position: relative;
    margin-top: 15px;
    @include mq(xsm) {
      margin-top: vwl(15px);
    }
    @include mq(xxs) {
      margin-top: vwp(15px);
    }
    &::before {
      content: '';
      width: 20px;
      height: 18px;
      @extend %svg;
      position: absolute;
      left: -25px;
      top: calc(50% - 9px);
      @include mq(xsm) {
        width: vwl(20px);
        height: vwl(18px);
        left: vwl(-25px);
        $x: vwl(9px);
        top: calc(50% - #{$x});
      }
      @include mq(xxs) {
        width: vwp(20px);
        height: vwp(18px);
        left: vwp(-25px);
        $x: vwp(9px);
        top: calc(50% - #{$x});
      }
      @include mq(md) {
        width: 26px;
        height: 21px;
        left: -30px;
        top: calc(50% - 11px);
      }
    }
  }
  span {
    color: $pink;
    font-weight: 900;
  }
}
.heading {
  @include mq(sm) {
    order: 1;
  }
}

// Product images - used in cart summary and upsells
// Image links are in cart-experiment-images.scss
.product-image {
  @include mq(xsm) {
    padding: 0;
  }
  @include mq(sm) {
    padding-left: 0;
  }
  div {
    background-color: $white;
    background-repeat: no-repeat;
    border-radius: 6px;
    height: 100%;
    filter: blur(4px);
    transition: 0.3s;
    position: relative;
    &.lazyloaded {
      filter: blur(0);
    }
    @include mq(sm) {
      background-size: 125%;
    }
  }
  a {
    display: block;
    height: 100%;
    position: relative;
    z-index: 1;
    border-radius: 6px;
    // semi-transparent border... looks kinda nice
    // &::before {
    //   content: '';
    //   border-radius: 6px;
    //   border: solid 1px rgba(#000, .05);
    //   position: absolute;
    //   top: 0;
    //   left: 0;
    //   right: 0;
    //   bottom: 0;
    // }
    &:focus {
      box-shadow: 0 0 0 1px #d9d8d6;
      outline: none;
    }
  }
}

.cart-summary,
.upsells {
  h3 {
    font-weight: 500;
    @include mq(md) {
      margin-top: 6px;
    }
  }
  h4 {
    color: #666;
    &:last-of-type {
      @include mq(md) {
        margin-bottom: 12px;
      }
    }
  }
  .product-image,
  .product-details,
  .remove {
    transition: 0.3s;
  }
  ul {
    padding: 0;
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-direction: column;
  }
  li {
    > .row {
      position: relative;
      display: flex;
      padding-left: 15px;
      padding-right: 15px;
      transition: 0.2s;
    }
  }
  .details {
    padding-right: 0;
    @include mq(xsm) {
      width: 80%;
    }
  }
  .pricing {
    @include mq(xlg) {
      padding: 0;
    }
    @include mq(xsm) {
      width: 20%;
    }
    h4 {
      margin-top: 6px;
      font-weight: 700;
      @include mq(xsm) {
        margin-top: vwl(6px);
      }
      @include mq(xxs) {
        margin-top: vwp(6px);
      }
      @include mq(sm) {
        margin-top: 7px;
      }
      @include mq(md) {
        margin-top: 8px;
      }
      &::before {
        content: '$';
      }
      &.price,
      &.original-price {
        text-align: right;
      }
      &.price {
        color: $navy;
        &.discounted {
          color: $pink;
          @include mq(sm) {
            margin-bottom: 5px;
          }
        }
      }
      &.original-price {
        color: #666;
        font-weight: 500;
        margin-top: 0;
        text-decoration: line-through;
      }
    }
  }
  .subtitle {
    @include mq(xlg) {
      padding-right: 0;
    }
    h4 {
      line-height: 1.2;
    }
  }
}

.cart-summary {
  margin-bottom: 8px;
  @include mq(xsm) {
    margin-bottom: vwl(8px);
  }
  @include mq(xxs) {
    margin-bottom: vwp(8px);
  }
  @include mq(md) {
    margin-bottom: 15px;
  }
  h3 {
    margin-bottom: 5px;
    @include mq(xsm) {
      margin-bottom: vwl(5px);
    }
    @include mq(xxs) {
      margin-bottom: vwp(5px);
    }
  }
  h4 {
    @include mq(lg) {
      margin: 7px 0 0 0;
      &:last-of-type, &[data-active='true'] { // may need to adjust this later
        margin-bottom: 17px;
      }
    }
  }
  li {
    margin: 0 0 20px 0;
    @include mq(xsm) {
      margin: 0 0 vwl(20px) 0;
    }
    @include mq(xxs) {
      margin: 0 0 vwp(20px) 0;
    }
    @include mq(md) {
      margin: 0 0 25px 0;
    }
    &[data-cart-order] {
      order: attr(data-cart-order);
    }
  }
  .product-image {
    div {
      background-color: #51cfcb;
    }
  }
  .remove,
  .cancel-remove {
    display: block;
    @extend %svg;
    background-size: 6px;
    background-color: $white;
    border: solid 1px #d9d8d6;
    border-radius: 4px;
    width: 16px;
    height: 16px;
    position: absolute;
    right: 0;
    bottom: 0;
    opacity: 1;
    transition: opacity 0.3s;
    @include mq(xsm) {
      width: vwl(16px);
      height: vwl(16px);
      background-size: vwl(6px);
    }
    @include mq(xxs) {
      width: vwp(16px);
      height: vwp(16px);
      background-size: vwp(6px);
    }
    @include mq(sm) {
      border-radius: 4px;
    }
    @include mq(md) {
      width: 20px;
      height: 20px;
      background-size: 8px;
    }
    @include mq(lg) {
      right: 15px;
    }
    &:hover,
    &:focus {
      border-color: shade(#d9d8d6, 20%);
      outline: none;
    }
  }
  .cancel-remove {
    font-size: 0;
    background-size: 10px;
  }
}
.quantity {
  display: flex;
  height: 24px;
  line-height: 21px;
  text-align: center;
  font-weight: 700;
  @include mq(xsm) {
    height: vwl(24px);
    line-height: vwl(21px);
  }
  @include mq(xxs) {
    height: vwp(24px);
    line-height: vwp(21px);
  }
  @include mq(md) {
    height: 30px;
    line-height: 27px;
  }
  @include mq(lg) {
    height: 38px;
    line-height: 35px;
  }
  .qty-display {
    width: 30px;
    border-top: solid 1px #d9d8d6;
    border-bottom: solid 1px #d9d8d6;
    padding: 5px 0 0 0;
    text-align: center;
    font-size: 1.3rem;
    color: $navy;
    background-color: transparent;
    border-radius: 0;
    appearance: none;
    line-height: 100%;
    @include mq(xsm) {
      width: vwl(30px);
      font-size: vwl(13px);
      padding: vwl(5px) 0 0 0;
    }
    @include mq(xxs) {
      width: vwp(30px);
      font-size: vwp(13px);
      padding: vwp(5px) 0 0 0;
    }
    @include mq(md) {
      padding: 9px 0 0 0;
    }
    @include mq(lg) {
      padding: 10px 0 0 0;
      font-size: 1.8rem;
      width: 42px;
    }
    &::before {
      content: attr(data-quantity);
    }
  }
}
.qty {
  width: 24px;
  height: 100%;
  background-color: $white;
  border: solid 1px #d9d8d6;
  font-size: 1.5rem;
  color: #666;
  user-select: none;
  @include mq(xsm) {
    width: vwl(24px);
    font-size: vwl(15px);
  }
  @include mq(xxs) {
    width: vwp(24px);
    font-size: vwp(15px);
  }
  @include mq(md) {
    width: 32px;
    font-size: 2rem;
  }
  @include mq(lg) {
    width: 40px;
    font-size: 2.4rem;
  }
  &.minus {
    border-radius: 4px 0 0 4px;
  }
  &.plus {
    border-radius: 0 4px 4px 0;
  }
  &:hover,
  &:focus {
    background-color: $teal;
    border-color: shade($teal, 10%);
    color: $white;
    outline: none;
  }
  &.disabled {
    // background-color: transparent;
    color: #999;
    pointer-events: none;
    &:hover,
    &:focus {
      border-color: shade($teal, 10%);
      background-color: #fff;
    }
  }
}

.removed-items {
  text-align: right;
  p {
    margin-top: 0;
    color: #666;
    position: relative;
    padding: 0 24px 2px 0;
    @include mq(xsm) {
      padding: 0 vwl(24px) vwl(2px) 0;
    }
    @include mq(xxs) {
      padding: 0 vwp(24px) vwp(2px) 0;
    }
    @include mq(md) {
      font-size: 1.4rem;
      padding: 0 30px 2px 0;
    }
    @include mq(lg) {
      padding: 0 45px 2px 0;
    }
    span {
      font-weight: 700;
    }
  }
}

// Star rating - used by upsells & upsell modals.
// These are the broad rules, which can be tweaked universally here
// There are section-specific tweaks in .upsells and .upsell-modal
.star-rating {
  display: flex;
  position: relative;
  left: -2px;
  @include mq(xsm) {
    left: vwl(-2px);
  }
  @include mq(xxs) {
    left: vwp(-2px);
  }
  p {
    color: $navy;
    text-indent: 3px;
    user-select: none;
    margin: 2px 0 0 0;
    font-weight: 700;
    font-size: 1.1rem;
    @include mq(xsm) {
      text-indent: vwl(3px);
      margin: vwl(2px) 0 0 0;
      font-size: vwl(11px);
    }
    @include mq(xxs) {
      text-indent: vwp(3px);
      margin: vwp(2px) 0 0 0;
      font-size: vwp(11px);
    }
    @include mq(md) {
      text-indent: 7px;
      font-size: 1.2rem;
    }
    @include mq(lg) {
      font-size: 1.4rem;
    }
  }
  span {
    font-weight: 400;
  }
}
.star-gauge,
.star-average {
  background-position: 0 50%;
  background-repeat: repeat-x;
  height: 11px;
  background-size: 14px 11px;
  @include mq(xsm) {
    height: vwl(11px);
    background-size: vwl(14px) vwl(11px);
  }
  @include mq(xxs) {
    height: vwp(11px);
    background-size: vwp(14px) vwp(11px);
  }
  @include mq(md) {
    height: 13px;
    background-size: 17px 13px;
  }
}
.star-gauge {
  position: relative;
  width: 70px;
  @include mq(xsm) {
    width: vwl(70px);
  }
  @include mq(xxs) {
    width: vwp(70px);
  }
  @include mq(md) {
    width: 85px;
  }
}

.upsells {
  transition: 0.4s;
  opacity: 1;
  &.hidden {
    opacity: 0;
  }
  li {
    margin: 0 0 30px 0;
    @include mq(xsm) {
      margin: 0 0 vwl(30px) 0;
    }
    @include mq(xxs) {
      margin: 0 0 vwp(30px) 0;
    }
  }
  h2 {
    @include mq(md) {
      margin-bottom: 30px;
    }
  }
  h3 {
    @include mq(xsm) {
      margin-bottom: 5px;
      margin-bottom: vwl(5px);
    }
    @include mq(xxs) {
      margin-bottom: vwp(5px);
    }
    a {
      border-bottom: solid 1px $navy;
      transition: 0.2s;
      cursor: pointer;
      &:hover,
      &:focus {
        border-bottom-color: transparent;
      }
      &:focus {
        border-bottom: dotted 2px $navy;
        outline: none;
      }
    }
  }
  .buttons {
    > div {
      @include mq(xlg) {
        padding-right: 0;
      }
    }
  }
  .product-details {
    .subtitle span {
      display: none;
    }
    &[data-type='CB'] {
      .subtitle span[data-type='CB'] {
        display: inline;
      }
    }
    &[data-type='CS'] {
      .subtitle span[data-type='CS'] {
        display: inline;
      }
    }
    &[data-type='OC'] {
      .subtitle span[data-type='OC'] {
        display: inline;
      }
    }
  }
}
.upsells {
  .star-rating {
    @include mq(sm) {
      margin-top: 6px;
    }
    @include mq(md) {
      margin-top: 10px;
    }
  }
  .size-select {
    .btn {
      width: 100%;
      transition: 0.2s;
      padding: 0;
      position: relative;
      &::before,
      &::after {
        content: '';
        position: absolute;
      }
      &::before {
        background-color: $white;
        border-left: solid 1px #d9d8d6;
        border-right: solid 1px #d9d8d6;
        border-bottom: solid 1px #fff;
        height: 0px;
        transition: 0.1s;
        top: 100%;
        left: -1px;
        right: -1px;
        z-index: 1001;
        opacity: 0;
      }
      &::after {
        @extend %svg;
        width: 8px;
        height: 5px;
        right: 8px;
        top: 10px;
        opacity: 1;
        transition: 0.2s;
        z-index: 10;
        @include mq(xsm) {
          width: vwl(8px);
          height: vwl(5px);
          right: vwl(8px);
          top: vwl(10px);
        }
        @include mq(xxs) {
          width: vwp(8px);
          height: vwp(5px);
          right: vwp(8px);
          top: vwp(10px);
        }
        @include mq(sm) {
          top: 12px;
        }
        @include mq(md) {
          width: 15px;
          height: 9px;
          right: 10px;
        }
        @include mq(lg) {
          top: 14px;
        }
      }
    }
    .dropdown.open {
      .btn {
        &::before {
          height: 6px;
          opacity: 1;
          @include mq(xsm) {
            height: vwl(6px);
          }
          @include mq(xxs) {
            height: vwp(6px);
          }
        }
        &::after {
          opacity: 0.2;
        }
      }
      .current-size:not(.selection-message) {
        opacity: 0.5;
      }
    }
  }
  // Below rules create thumbnail color swatches for products with color selection
  .current-size {
    padding: 4px 0 1px 8px;
    user-select: none;
    opacity: 1;
    transition: 0.2s;
    white-space: nowrap;
    overflow: hidden;
    @include mq(xsm) {
      padding: vwl(4px) 0 vwl(1px) vwl(8px);
    }
    @include mq(xxs) {
      padding: vwp(4px) 0 vwp(1px) vwp(8px);
    }
    @include mq(sm) {
      padding: 5px 0 3px 10px;
    }
    @include mq(md) {
      padding: 5px 0 3px 12px;
    }
    @include mq(lg) {
      padding: 7px 0 5px 15px;
    }
    &[data-longtitle='true'] {
      @include mq(xsm) {
        letter-spacing: vwl(-0.65px);
      }
      @include mq(xxs) {
        letter-spacing: vwp(-0.65px);
      }
    }
    &[data-color-selection='true'] {
      position: relative;
      &::before {
        content: '';
        display: block;
        position: absolute;
        width: 26px;
        top: -1px;
        right: -1px;
        bottom: -1px;
        border-radius: 0 6px 6px 0;
        border-left: solid 1px #d9d8d6;
        @include filter-gradient(#ffffff, tint(#a3a3a3, 70%), vertical);
        @include background-image(
          linear-gradient(
            top,
            rgba(#ffffff, 1) 0%,
            rgba(tint(#a3a3a3, 70%), 1) 100%
          )
        );
        background-color: #fff;
        opacity: 1;
        transition: 0.2s;
        z-index: 2;
        @include mq(xsm) {
          width: vwl(26px);
        }
        @include mq(xxs) {
          width: vwp(26px);
        }
        @include mq(md) {
          width: 37px;
          border-radius: 0 8px 8px 0;
        }
      }
      &[data-active-color='BW'] {
        // Brilliant White
        &::before {
          @include filter-gradient(tint(#edf1ff, 20%), #edf1ff, vertical);
          @include background-image(
            linear-gradient(
              top,
              rgba(tint(#edf1ff, 20%), 1) 0%,
              rgba(shade(#edf1ff, 20%), 1) 100%
            )
          );
          background-color: #edf1ff;
        }
      }
      &[data-active-color='CD'] {
        // Cool Dot
        &::before {
          background-color: $white;
          @include polkadot(shade(#f0f2f5, 20%));
          @extend %svg;
          background-size: 90%;
        }
      }
      &[data-active-color='GG'] {
        // Granite Grey
        &::before {
          @include filter-gradient(tint(#615f5f, 20%), #615f5f, vertical);
          @include background-image(
            linear-gradient(
              top,
              rgba(tint(#615f5f, 50%), 1) 0%,
              rgba(tint(#615f5f, 30%), 1) 100%
            )
          );
          background-color: #615f5f;
        }
      }
      &[data-active-color='GR'] {
        &::before {
          @include filter-gradient(tint(#ccc, 20%), #ccc, vertical);
          @include background-image(
            linear-gradient(
              top,
              rgba(tint(#ccc, 20%), 1) 0%,
              rgba(shade(#ccc, 20%), 1) 100%
            )
          );
          background-color: #ccc;
        }
      }
      &[data-active-color='MB'] {
        // Moon Beam
        &::before {
          @include filter-gradient(tint(#cdc6bd, 20%), #ccc, vertical);
          @include background-image(
            linear-gradient(
              top,
              rgba(tint(#cdc6bd, 20%), 1) 0%,
              rgba(shade(#cdc6bd, 20%), 1) 100%
            )
          );
          background-color: #cdc6bd;
        }
      }
      &[data-active-color='PA'] {
        // Plein Air
        &::before {
          @include filter-gradient(tint(#bfcad6, 20%), #ccc, vertical);
          @include background-image(
            linear-gradient(
              top,
              rgba(tint(#bfcad6, 20%), 1) 0%,
              rgba(shade(#bfcad6, 20%), 1) 100%
            )
          );
          background-color: #bfcad6;
        }
      }
      &[data-active-color='QG'] {
        // Quiet Grey
        &::before {
          @include filter-gradient(tint(#babbbd, 20%), #ccc, vertical);
          @include background-image(
            linear-gradient(
              top,
              rgba(tint(#babbbd, 20%), 1) 0%,
              rgba(shade(#babbbd, 20%), 1) 100%
            )
          );
          background-color: #babbbd;
        }
      }
      &[data-active-color='WP'] {
        // Window Pane
        &::before {
          background-color: $white;
          @include windowpane(#000);
          background-size: 90%;
          background-position: 50% 50%;
        }
      }
    }
    &:after {
      content: '';
      position: absolute;
      top: 1px;
      right: 1px;
      bottom: 1px;
      width: 30px;
      border-radius: 0 6px 6px 0;
      @include filter-gradient(#00ffffff, #ffffff, horizontal);
      @include background-image(
        linear-gradient(
          left,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 1) 50%
        )
      );
      @include mq(xsm) {
        width: vwl(30px);
      }
      @include mq(xxs) {
        width: vwp(30px);
      }
    }
    &.selection-message {
      &::after {
        display: none;
      }
    }
  }
  .size-select {
    .dropdown.open {
      .current-size {
        &[data-color-selection='true'] {
          &::before {
            opacity: 0;
          }
        }
      }
    }
  }
}

.upsells {
  li {
    &[data-add-on='true'] {
      .product-image {
        div {
          // save this for later
          // background-color: tint(#51cfcb, 50%);
          background-color: tint($teal, 76%);
        }
      }
      .subtitle {
        h4 {
          @include mq(xsm) {
            margin-top: 2px;
            margin-top: vwl(2px);
          }
          @include mq(xxs) {
            margin-top: vwp(2px);
          }
          @include mq(md) {
            margin: 0 0 5px 0;
          }
          @include mq(lg) {
            margin: 0 0 10px 0;
          }
        }
      }
      p {
        margin: 0 0 5px 0;
        font-weight: 500;
        @include mq(xsm) {
          margin: 0 0 vwl(5px) 0;
        }
        @include mq(xxs) {
          margin: 0 0 vwp(5px) 0;
        }
        @include mq(md) {
          margin: 0 0 10px 0;
          font-size: 1.4rem;
        }
        @include mq(lg) {
          font-size: 1.6rem;
        }
      }
    }
  }
  .details-left {
    padding-right: 0;
  }
  .details-right {
    padding-left: 0;
    @include mq(xlg) {
      padding-right: 2px;
    }
    p {
      text-align: right;
      span {
        display: inline-block;
        font-size: 0;
        width: 50px;
        height: 14px;
        @include logo-clyde();
        @extend %svg;
        vertical-align: middle;
        @include mq(xsm) {
          width: vwl(50px);
          height: vwl(14px);
        }
        @include mq(xxs) {
          width: vwp(50px);
          height: vwp(14px);
        }
        @include mq(md) {
          width: 58px;
          height: 16px;
        }
        @include mq(lg) {
          width: 66px;
          height: 18px;
        }
      }
    }
  }
}

// Bootstrap component animations
.fade {
  opacity: 0;
  @include transition(opacity 0.15s linear);
  &.in {
    opacity: 1;
  }
}
main .collapse {
  display: none;
  &.in {
    display: block;
  }
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  @include transition-property(height, visibility);
  @include transition-duration(0.35s);
  @include transition-timing-function(ease);
}
// Bootstrap dropdowns
// The dropdown wrapper (div)
.dropup,
.dropdown {
  position: relative;
}
.dropdown {
  &.open {
    .dropdown-toggle {
      border-radius: 4px 4px 0 0;
      border-bottom-color: $white;
      @include mq(md) {
        border-radius: 8px 8px 0 0;
      }
    }
  }
}
.dropdown-toggle {
  text-align: left;
  &:focus {
    // Prevent the focus on the dropdown toggle when closing dropdowns
    outline: 0;
  }
}

// The dropdown menu (ul)
.upsells {
  ul {
    &.dropdown-menu {
      position: absolute;
      top: calc(100% + 4px);
      left: -88px;
      right: -110px;
      z-index: 1000;
      display: none; // none by default, but block on "open" of the menu
      float: left;
      padding: 10px 4px 4px 10px;
      list-style: none;
      text-align: left; // Ensures proper alignment if parent has it changed (e.g., modal footer)
      background-color: $white;
      border: solid 1px #d9d8d6;
      border-radius: 4px;
      background-clip: padding-box;
      flex-direction: row;
      flex-wrap: wrap;
      @include mq(xsm) {
        $x: vwl(4px);
        top: calc(100% + #{$x});
        left: vwl(-88px);
        right: vwl(-110px);
        padding: vwl(10px) vwl(4px) vwl(4px) vwl(10px);
      }
      @include mq(xxs) {
        $x: vwp(4px);
        top: calc(100% + #{$x});
        left: calc(-75% - 15px);
        right: calc(-100% - 15px);
        padding: vwp(10px) vwp(4px) vwp(4px) vwp(10px);
      }
      @include mq(sm) {
        left: -87px;
        right: -87px;
      }
      @include mq(md) {
        font-size: 18px;
        border-radius: 6px;
        left: -94px;
        right: -94px;
      }
      @include mq(lg) {
        padding-bottom: 2px;
        left: -100px;
        right: -100px;
      }
      &[color-selection='true'] {
        padding-top: 3px;
        @include mq(xsm) {
          padding-top: vwl(3px);
        }
        @include mq(xxs) {
          padding-top: vwp(3px);
        }
      }
      > li {
        &.color-select {
          width: 100%;
          display: flex;
          padding: 0;
          border: none;
          margin-bottom: 9px;
          flex-direction: column;
          @include mq(xsm) {
            margin-bottom: vwl(9px);
          }
          @include mq(xxs) {
            margin-bottom: vwp(9px);
          }
          @include mq(lg) {
            margin-bottom: 11px;
          }
          .color-label {
            // width: 33.333333%;
            padding: 8px 0 4px 0;
            font-size: 1.3rem;
            text-align: left;
            @include mq(xsm) {
              padding: vwl(8px) 0 vwl(4px) 0;
              font-size: vwl(13px);
            }
            @include mq(xxs) {
              padding: vwp(8px) 0 vwp(4px) 0;
              font-size: vwp(13px);
            }
            @include mq(md) {
              font-size: 1.4rem;
            }
            @include mq(lg) {
              font-size: 1.5rem;
            }
            &::after {
              content: attr(data-active-color-name);
            }
          }
          ul {
            flex-direction: row;
            text-align: right;
            padding: 0 10px 0 4px;
            @include mq(xsm) {
              padding: 0 vwl(10px) 0 vwl(4px);
            }
            @include mq(xxs) {
              padding: 0 vwp(4px);
            }
          }
          li {
            display: inline-block;
            width: 30px;
            padding: 0 0 30px 0;
            background-color: #fff;
            margin: 0 10px 0 0;
            height: 0;
            border-radius: 50%;
            border: solid 1px #dfdcd7;
            transition: 0.2s;
            position: relative;
            @include mq(xsm) {
              width: vwl(30px);
              padding-bottom: vwl(30px);
              margin: 0 vwl(10px) 0 0;
            }
            @include mq(xxs) {
              width: vwp(30px);
              padding-bottom: vwp(30px);
              margin: 0 vwp(10px) 0 0;
            }
            @include mq(md) {
              margin: 0 10px 0 0;
              width: 36px;
              padding-bottom: 36px;
            }
            @include mq(lg) {
              width: 40px;
              padding-bottom: 40px;
            }
            &:last-of-type {
              margin-right: 0;
            }
            &::before {
              content: '';
              position: absolute;
              top: -3px;
              left: -3px;
              right: -3px;
              bottom: -3px;
              border: solid 2px #f7f5f3;
              border-radius: 50%;
              transition: 0.2s;
            }
            &[data-active='true'],
            &:hover,
            &:focus {
              &::before {
                border-color: #dfdcd7;
                border-color: shade(#ccc, 20%);
                top: -5px;
                left: -5px;
                right: -5px;
                bottom: -5px;
                border-radius: 50%;
              }
            }
            &:focus {
              outline: none;
              &::before {
                border-width: 2px;
              }
            }
            &[data-color='BW'] {
              // Brilliant White
              background-color: #edf1ff;
              border-color: shade(#edf1ff, 20%);
            }
            &[data-color='CD'] {
              // Cool Dot
              background-color: $white;
              @include polkadot(shade(#f0f2f5, 20%));
              @extend %svg;
              border-color: shade(#f0f2f5, 40%);
              background-size: 105%;
            }
            &[data-color='GG'] {
              // Granite Grey
              background-color: #615f5f;
              border-color: shade(#615f5f, 20%);
            }
            &[data-color='GR'] {
              // Grey
              background-color: #ccc;
              border-color: shade(#ccc, 20%);
            }
            &[data-color='MB'] {
              // Moon Beam
              background-color: #cdc6bd;
              border-color: shade(#cdc6bd, 20%);
            }
            &[data-color='PA'] {
              // Plein Air
              background-color: #bfcad6;
              border-color: shade(#bfcad6, 20%);
            }
            &[data-color='QG'] {
              // Quiet Grey
              background-color: #babbbd;
              border-color: shade(#babbbd, 20%);
            }
            &[data-color='WP'] {
              // Window Pane
              background-color: $white;
              @include windowpane(#000);
              @extend %svg;
              border-color: tint(#000, 20%);
              background-size: 105%;
            }
          }
        }
        &.upsell-select {
          width: 100%;
          margin: 0;
          ul {
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            > li {
              width: calc(33.333333% - 6px);
              display: inline-block;
              border: solid 1px #d9d8d6;
              margin: 0 6px 6px 0;
              padding: 8px 12px 6px 12px;
              // border-radius: 4px;
              text-align: center;
              user-select: none;
              transition: 0.2s;
              display: flex;
              flex-direction: column;
              justify-content: space-evenly;
              @include mq(xsm) {
                $x: vwl(6px);
                width: calc(33.333333% - #{$x});
                margin: 0 vwl(6px) vwl(6px) 0;
                padding: vwl(8px) vwl(12px) vwl(6px) vwl(12px);
                // border-radius: vwl(4px);
              }
              @include mq(xxs) {
                $x: vwp(6px);
                width: calc(33.333333% - #{$x});
                margin: 0 vwp(6px) vwp(6px) 0;
                padding: vwp(8px) vwp(12px) vwp(6px) vwp(12px);
                // border-radius: vwp(4px);
              }
              @include mq(sm) {
                padding: 8px 15px 6px 15px;
              }
              @include mq(md) {
                padding: 10px 16px 8px 16px;
              }
              @include mq(lg) {
                // border-radius: 4px;
                width: calc(33.333333% - 8px);
                margin: 0 8px 8px 0;
              }
              &[data-upsell-sizes='2'],
              &[data-upsell-colors='2'] {
                width: calc(50% - 6px);
                @include mq(xsm) {
                  $x: vwl(6px);
                  width: calc(50% - #{$x});
                }
                @include mq(xxs) {
                  $x: vwp(6px);
                  width: calc(50% - #{$x});
                }
                @include mq(lg) {
                  width: calc(50% - 8px);
                }
              }
              &[data-out-of-stock='true'] {
                background-color: #d9d8d6;
                h5,
                p {
                  color: #999;
                  text-decoration: line-through;
                }
              }
              &[data-out-of-stock='false'] {
                cursor: pointer;
                @include filter-gradient(#ffffff, #f7f6f4, vertical);
                @include background-image(
                  linear-gradient(
                    top,
                    rgba(255, 255, 255, 1) 0%,
                    rgba(247, 246, 244, 1) 100%
                  )
                );
                &:hover {
                  border-color: $navy;
                  background: $navy;
                  h5,
                  p {
                    color: $white;
                  }
                }
                &:focus {
                  outline: 1px solid shade(#d9d8d6, 15%);
                }
              }
              &[data-active='true'] {
                border-color: $navy;
                background: $navy;
                h5,
                p {
                  color: $white;
                }
                &:focus {
                  outline: 1px solid rgba($white, 0.6);
                  outline-offset: -2px;
                }
              }
            }
          }
        }
        h5 {
          font-size: 1.2rem;
          margin-bottom: 3px;
          font-weight: 500;
          @include mq(xsm) {
            font-size: vwl(12px);
            margin-bottom: vwl(3px);
          }
          @include mq(xxs) {
            font-size: vwp(12px);
            margin-bottom: vwp(3px);
          }
          @include mq(md) {
            font-size: 1.4rem;
          }
          @include mq(lg) {
            font-size: 1.6rem;
          }
        }
        p {
          margin: 0;
          font-size: 1.1rem;
          font-weight: 400;
          @include mq(xsm) {
            font-size: vwl(11px);
          }
          @include mq(xxs) {
            font-size: vwp(11px);
          }
          @include mq(md) {
            font-size: 1.2rem;
          }
          @include mq(lg) {
            font-size: 1.4rem;
          }
        }
      }
    }
  }
}

.item,
.current-size {
  &[data-active='false'] {
    display: none;
  }
}

// Saving this for later, because I think this might come up again
// .current-size {
//   white-space: nowrap;
//   overflow-x: hidden;
//   text-overflow: ellipsis;
//   margin-right: 16px;
//   @include mq(xsm) {
//     margin-right: vwl(16px);
//   }
//   @include mq(xxs) {
//     margin-right: vwp(16px);
//   }
// }

// Open state for the dropdown
.open {
  // Show the menu
  > .dropdown-menu {
    display: inline-flex !important;
  }
  // Remove the outline when :focus is triggered
  > a {
    outline: 0;
  }
}

.dropdown-backdrop {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: ($zindex-dropdown - 10);
}

.order-summary {
  @include mq(sm) {
    position: sticky;
    top: 65px;
    z-index: 1;
  }
  @include mq(smmd) {
    padding-left: 30px;
  }
  h2 {
    span {
      @include mq(sm) {
        background-color: $white;
      }
    }
    &::after {
      content: none;
    }
  }
}
.summary {
  padding: 0 0 15px 0;
  border-radius: 6px;
  @include mq(xsm) {
    background-color: $white;
    width: calc(100% - 30px);
    margin-left: 15px;
    margin-bottom: 10px;
    padding: vwl(20px) 15px vwl(15px) 15px;
    margin-bottom: vwl(10px);
  }
  @include mq(xxs) {
    padding: vwp(20px) 15px vwp(15px) 15px;
    margin-bottom: vwp(10px);
  }
  > .row {
    display: flex;
  }
  .discount-message {
    margin-bottom: 15px;
    @include mq(xsm) {
      margin-bottom: vwl(15px);
    }
    @include mq(xxs) {
      margin-bottom: vwp(15px);
    }
    p {
      @include mq(md) {
        font-size: 1.3rem;
        margin-top: 18px;
      }
    }
  }
  .right-col {
    h3,
    h4 {
      text-align: right;
    }
    h3 {
      &::before {
        content: '$';
      }
    }
  }
  h4 {
    color: #666;
    position: relative;
    @include mq(md) {
      margin-bottom: 10px;
    }
    &.subtotal {
      &::before {
        content: '$';
      }
    }
    &.discount {
      color: $pink;
      &::before {
        content: '-$';
      }
    }
    &.free {
      color: #51cfcb;
      font-weight: 700;
    }
    &.continue {
      position: absolute;
      bottom: -30px;
      right: 5px;
      color: #333;
      font-weight: 400;
      font-size: 1.2rem;
      @include mq(sm) {
        bottom: -30px;
        right: 20px;
      }
      @include mq(md) {
        font-size: 1.4rem;
        bottom: -40px;
      }
      @include mq(lg) {
        bottom: -45px;
      }
      &::after {
        content: '\2794';
      }
    }
  }
  h5 {
    color: $navy;
    position: relative;
    font-weight: 500;
    font-size: 1.4rem;
    text-transform: uppercase;
    margin: 0 0 10px;
  }
  h6 {
    position: relative;
    font-size: 2rem;
    &::before,
    &::after {
      font-weight: 900;
      position: relative;
    }
    &::after {
      font-weight: 400;
      color: #818992;
    }
    &::before {
      content: '$';
    }
    &.my-order {
      text-align: left;
      font-weight: 900;
      font-size: 2rem;
      margin: 5px 0 10px;
      @include mq(sm) {
        margin: 15px 0;
      }
      @include mq(md) {
        font-size: 2.2rem;
      }
      &::before {
        content: none;
      }
    }
  }
  p {
    text-align: center;
    color: #333;
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.1;
    &.delivery {
      font-size: 1.2rem;
      color: #818992;
      margin: 13px 0;
      @include mq(lg) {
        font-size: 1.4rem;
      }
    }
  }
}

.summary-total {
  position: relative;
  border-right: solid 1px #ccc;
  &::after {
    content: 'OR';
    font-size: 1.4rem;
    font-weight: 900;
    color: $navy;
    position: absolute;
    left: 100%;
    top: 30px;
    transform: translate3d(-50%, -43%, 0);
    padding: 5px 2px;
    line-height: 1;
    text-align: center;
    background-color: $white;
    @include mq(xsm) {
      font-size: vwl(14px);
      padding: vwl(5px) vwl(2px);
    }
    @include mq(xxs) {
      font-size: vwp(14px);
      padding: vwp(5px) vwp(2px);
    }
    @include mq(lg) {
      font-size: 1.4rem;
      padding: 10px 2px;
    }
  }
}
.summary-monthly-payment {
  h6 {
    &::after {
      content: '/mo.';
      color: #818992;
      font-weight: 400;
    }
  }
  a {
    border-bottom: solid 1px #666;
    transition: 0.2s;
    &:hover,
    &:focus {
      border-bottom-color: transparent;
    }
  }
}

.grand-total {
  padding-top: 10px;
  margin: 10px 0 0 0;
  border-top: dotted 1px #ccc;
  @include mq(xsm) {
    padding-top: vwl(10px);
    margin: vwl(10px) 0 0 0;
  }
  @include mq(xxs) {
    padding-top: vwp(10px);
    margin: vwp(10px) 0 0 0;
  }
  @include mq(md) {
    margin: 15px auto 0 auto;
    border-top-style: solid;
    border-bottom: double 3px #ccc;
    padding-bottom: 15px;
  }
  > div {
    padding: 0;
  }
}
@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
@keyframes fadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.delivery {
  text-align: center;
  display: inline-block;
  color: #999;
  position: relative;
  text-transform: uppercase;
  font-weight: 500;
  font-size: 1.2rem;
  padding-left: 22px;
  @include mq(md) {
    margin: 5px 0 15px 0;
  }
  @include mq(lg) {
    margin: 5px 0 20px 0;
  }
  &::after {
    content: '';
    @extend %svg;
    width: 16px;
    height: 18px;
    position: absolute;
    left: 0;
    top: -1px;
  }
}
.checkout {
  text-align: center;
  .btn {
    width: calc(100% - 30px);
    @include mq(xsm) {
      width: unset;
      display: block;
    }
  }
}
.callouts {
  background-color: $white;
  border-radius: 6px;
  padding-top: 15px;
  width: calc(100% - 30px);
  margin: 45px 0 0 15px;
  @include mq(xsm) {
    padding-top: vwl(15px);
    $x: vwl(30px);
    width: calc(100% - #{$x});
    margin: vwl(45px) 0 0 vwl(15px);
  }
  @include mq(xxs) {
    padding-top: vwp(15px);
    $x: vwp(30px);
    width: calc(100% - #{$x});
    margin: vwp(45px) 0 0 vwp(15px);
  }
  @include mq(sm) {
    background-color: #e9fafa;
  }
  @include mq(lg) {
    margin: 60px 0 0 15px;
  }
}
.callout {
  margin-bottom: 15px;
  @include mq(xsm) {
    margin-bottom: vwl(15px);
  }
  @include mq(xxs) {
    margin-bottom: vwp(15px);
  }
  h4 {
    font-weight: 500;
    margin: 12px 0 0 0;
    @include mq(xsm) {
      margin: vwl(12px) 0 0 0;
    }
    @include mq(xxs) {
      margin: vwp(12px) 0 0 0;
    }
  }
  p {
    font-size: 1.1rem;
    font-weight: 500;
    margin: 5px 0 0 0;
    @include mq(xsm) {
      font-size: vwl(11px);
      margin: vwl(5px) 0 0 0;
    }
    @include mq(xxs) {
      font-size: vwp(11px);
      margin: vwp(5px) 0 0 0;
    }
    @include mq(lg) {
      font-size: 1.4rem;
    }
  }
}
.badge {
  height: 0;
  padding-bottom: 18%;
  @extend %svg;
}
.tagline {
  padding: 0 5px 0 0;
  @include mq(xsm) {
    padding: 0 vwl(5px) 0 0;
  }
  @include mq(xxs) {
    padding: 0 vwp(5px) 0 0;
  }
}
.copyright {
  padding-top: 30px;
  padding-bottom: 15px;
  position: relative;
  @include mq(xsm) {
    padding-top: vwl(30px);
    padding-bottom: vwl(15px);
  }
  @include mq(xxs) {
    padding-top: vwp(30px);
    padding-bottom: vwp(15px);
  }
  p {
    text-align: center;
    color: #666;
    font-size: 1rem;
    margin: 0;
    @include mq(xsm) {
      font-size: vwl(10px);
    }
    @include mq(xxs) {
      font-size: vwp(10px);
    }
    @include mq(sm) {
      text-align: right;
      margin: 0 5px 0 0;
    }
    @include mq(md) {
      font-size: 1.2rem;
    }
    @include mq(lg) {
      bottom: 30px;
    }
  }
}

// Animation
.subtotal,
.total,
.monthly-payment,
.discount {
  transition: 0.1s;
  filter: blur(0px);
  &.blur {
    filter: blur(4px);
  }
}

// Upsell Modals, Financing Modal - see cart-experiment-images.scss

// Addons (Clyde)
.addon {
  padding-top: 10px;
  @include mq(xsm) {
    padding-top: vwl(10px);
  }
  @include mq(xxs) {
    padding-top: vwp(10px);
  }
  @include mq(sm) {
    padding-top: 5px;
  }
  @include mq(md) {
    padding-top: 10px;
  }
  > .row {
    transition: 0.2s;
  }
  h4 {
    color: $navy;
    margin-top: 6px;
    @include mq(xsm) {
      margin-top: vwl(6px);
    }
    @include mq(xxs) {
      margin-top: vwp(6px);
    }
    @include mq(sm) {
      margin-top: 12px;
    }
    @include mq(md) {
      margin: 12px 0 5px 0;
    }
    @include mq(lg) {
      margin: 12px 0 10px 0;
    }
  }
  .quantity {
    @include mq(md) {
      height: 26px;
    }
    @include mq(lg) {
      height: 30px;
    }
  }
  .qty {
    @include mq(md) {
      line-height: 24px;
    }
    @include mq(lg) {
      line-height: 26px;
    }
  }
  .qty-display {
    padding: 5px 0 0 0;
    font-size: 1.3rem;
    @include mq(xsm) {
      font-size: vwl(13px);
      padding: vwl(5px) 0 0 0;
    }
    @include mq(xxs) {
      font-size: vwp(13px);
      padding: vwp(5px) 0 0 0;
    }
    @include mq(md) {
      padding: 6px 0 0 0;
    }
    @include mq(lg) {
      padding: 7px 0 0 0;
      font-size: 1.6rem;
    }
  }
}
.addon-image {
  padding: 0;
  text-align: right;
  @include mq(xmd) {
    width: 25%;
  }
  @include mq(md) {
    margin-left: 16.66666667%;
  }
  > div {
    width: 28px;
    height: 36px;
    right: -5px;
    top: -40px;
    position: absolute;
    @include shield($navy);
    @extend %svg;
    @include mq(xsm) {
      width: vwl(28px);
      height: vwl(36px);
      right: vwl(-5px);
      top: vwl(-40px);
    }
    @include mq(xxs) {
      width: vwp(28px);
      height: vwp(36px);
      right: vwp(-5px);
      top: vwp(-40px);
    }
    @include mq(sm) {
      width: 32px;
      height: 46px;
      right: 10px;
      top: -40px;
    }
    @include mq(md) {
      width: 37px;
      height: 47px;
      right: 7px;
      top: -49px;
    }
    @include mq(lg) {
      width: 42px;
      height: 54px;
      top: -56px;
    }
  }
}
.addon-details {
  padding-right: 0;
  padding-left: 15px;
  width: 75%;
  h4 {
    &::after {
      content: attr(data-price);
      font-weight: 700;
      position: absolute;
      right: 0;
      @include mq(sm) {
        top: 13px;
      }
      @include mq(lg) {
        top: 13px;
        right: 15px;
      }
    }
  }
}
.addon-pricing {
  padding: 0;
}
.addon-price {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  text-align: right;
  font-weight: 700;
}
// animation stuff
// .addon {
//   .quantity, .remove {
//     transition: .3s;
//     animation-delay: .3s;
//   }
//   &[data-active="false"] {
//     opacity: 0;
//   }
//   &[data-active="true"] {
//     opacity: 1;
//   }
// }

// Apple Pay
.apple-pay-wrapper {
  position: relative;
  h4 {
    text-align: center;
    color: #999;
    font-size: 1.2rem;
    position: relative;
    font-weight: 400;
    margin: 15px 0;
    @include mq(xsm) {
      font-size: vwl(12px);
      margin: vwl(15px) 0;
    }
    @include mq(xxs) {
      font-size: vwp(12px);
      margin: vwp(15px) 0;
    }
    @include mq(md) {
      font-size: 1.4rem;
    }
    @include mq(lg) {
      font-size: 1.6rem;
    }
    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 3px;
      right: 3px;
      height: 1px;
      background-color: #d9d8d6;
      z-index: 1;
    }
    span {
      background: #f7f6f4;
      position: relative;
      z-index: 2;
      padding: 0 5px;
      @include mq(sm) {
        background-color: #fff;
      }
    }
  }
}

.apple-pay-button {
  display: block;
  text-align: center;
  color: $white;
  font-size: 1.6rem;
  font-weight: 500;
  border-radius: 6px;
  padding: 10px 10px 14px 10px;
  box-sizing: border-box;
  width: 100%;
  line-height: 1;
  user-select: none;
  cursor: pointer;
  transition: 0.2s;
  @include mq(xsm) {
    font-size: vwl(16px);
    padding: vwl(10px) vwl(10px) vwl(14px) vwl(10px);
  }
  @include mq(xxs) {
    font-size: vwp(16px);
    padding: vwp(10px) vwp(10px) vwp(14px) vwp(10px);
  }
  @include mq(md) {
    font-size: 1.8rem;
  }
  &:focus,
  &:active {
    padding: 11px 10px 13px 10px;
    outline: none;
    @include mq(xsm) {
      padding: vwl(11px) vwl(10px) vwl(13px) vwl(10px);
    }
    @include mq(xxs) {
      padding: vwp(11px) vwp(10px) vwp(13px) vwp(10px);
    }
  }
}
.apple-pay-button-black {
  background-color: black;
  span {
    width: 60px;
    height: 26px;
    @extend %svg;
    display: inline-block;
    margin: 0 0 -7px 2px;
    @include mq(xsm) {
      width: vwl(60px);
      height: vwl(26px);
      margin: 0 0 vwl(-7px) vwl(2px);
    }
    @include mq(xxs) {
      width: vwp(60px);
      height: vwp(26px);
      margin: 0 0 vwp(-7px) vwp(2px);
    }
  }
}

@supports not (-webkit-appearance: -apple-pay-button) {
  .apple-pay.shipping-radio,
  .apple-pay-wrapper {
    display: none !important;
  }
}

body {
  &.processing {
    pointer-events: none !important;
  }
}

// Debugging
#debug-box {
  background: #fff;
  text-align: center;
  font-size: 11px;
  font-weight: bold;
  color: $pink;
  padding: 10px;
}

// SVG
// Only includes core svgs - the rest are in cart-experiment-images.scss
.logo {
  @include logo-lull($white);
}
nav li.cart-icon,
.addon-btn:hover span::before,
.addon-btn:focus span::before {
  @include cart-open($white);
}
nav li.phone a {
  @include phone-handset($teal);
  &:hover,
  &:focus {
    @include phone-handset($white);
  }
}
nav li.exit a {
  @include x-thin(#56dbd6);
  &:hover,
  &:focus {
    @include x-thin(#fff);
  }
}
.cart-summary .remove {
  @include x(shade(#d9d8d6, 20%));
  &:hover,
  &:focus {
    @include x(shade(#d9d8d6, 20%));
  }
}
.cart-summary .cancel-remove {
  @include undo(shade(#d9d8d6, 20%));
  &:hover,
  &:focus {
    @include undo(shade(#d9d8d6, 20%));
  }
}
.discount-message p::before {
  @include pricetag($pink);
}
.upsells .size-select .btn::after {
  @include arrow-thin(#666);
}
.star-average {
  @include star($pink);
}
.star-gauge {
  @include star(#a0a0a0);
}
.delivery::after {
  @include box($teal);
}
.checkout .btn span {
  @include lock(#fca7b9);
}
.badge {
  &.recommended {
    @include badge-best-buy($teal);
  }
  &.trial {
    @include badge-365-night-trial-wide($teal);
  }
  &.warranty {
    @include badge-lock-filled($teal);
  }
}
.addon-btn span::before {
  @include cart-open(#51cfcb);
}
